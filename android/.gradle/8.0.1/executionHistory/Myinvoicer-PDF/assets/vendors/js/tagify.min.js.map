{"version":3,"file":"tagify.min.js","sources":["tagify.min.js"],"sourcesContent":["/**\r\n * Tagify (v 4.12.0) - tags input component\r\n * By Yair Even-Or\r\n * https://github.com/yairEO/tagify\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n *\r\n * THE SOFTWARE IS NOT PERMISSIBLE TO BE SOLD.\r\n */\r\n\r\n!(function (t, e) {\r\n\t\"object\" == typeof exports && \"undefined\" != typeof module ? (module.exports = e()) : \"function\" == typeof define && define.amd ? define(e) : ((t = \"undefined\" != typeof globalThis ? globalThis : t || self).Tagify = e());\r\n})(this, function () {\r\n\t\"use strict\";\r\n\tfunction t(t, e) {\r\n\t\tvar i = Object.keys(t);\r\n\t\tif (Object.getOwnPropertySymbols) {\r\n\t\t\tvar s = Object.getOwnPropertySymbols(t);\r\n\t\t\te &&\r\n\t\t\t\t(s = s.filter(function (e) {\r\n\t\t\t\t\treturn Object.getOwnPropertyDescriptor(t, e).enumerable;\r\n\t\t\t\t})),\r\n\t\t\t\ti.push.apply(i, s);\r\n\t\t}\r\n\t\treturn i;\r\n\t}\r\n\tfunction e(e) {\r\n\t\tfor (var s = 1; s < arguments.length; s++) {\r\n\t\t\tvar a = null != arguments[s] ? arguments[s] : {};\r\n\t\t\ts % 2\r\n\t\t\t\t? t(Object(a), !0).forEach(function (t) {\r\n\t\t\t\t\t\ti(e, t, a[t]);\r\n\t\t\t\t  })\r\n\t\t\t\t: Object.getOwnPropertyDescriptors\r\n\t\t\t\t? Object.defineProperties(e, Object.getOwnPropertyDescriptors(a))\r\n\t\t\t\t: t(Object(a)).forEach(function (t) {\r\n\t\t\t\t\t\tObject.defineProperty(e, t, Object.getOwnPropertyDescriptor(a, t));\r\n\t\t\t\t  });\r\n\t\t}\r\n\t\treturn e;\r\n\t}\r\n\tfunction i(t, e, i) {\r\n\t\treturn e in t ? Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : (t[e] = i), t;\r\n\t}\r\n\tconst s = (t, e, i, s) => ((t = \"\" + t), (e = \"\" + e), s && ((t = t.trim()), (e = e.trim())), i ? t == e : t.toLowerCase() == e.toLowerCase()),\r\n\t\ta = (t, e) => t && Array.isArray(t) && t.map((t) => n(t, e));\r\n\tfunction n(t, e) {\r\n\t\tvar i,\r\n\t\t\ts = {};\r\n\t\tfor (i in t) e.indexOf(i) < 0 && (s[i] = t[i]);\r\n\t\treturn s;\r\n\t}\r\n\tfunction o(t) {\r\n\t\tvar e = document.createElement(\"div\");\r\n\t\treturn t.replace(/\\&#?[0-9a-z]+;/gi, function (t) {\r\n\t\t\treturn (e.innerHTML = t), e.innerText;\r\n\t\t});\r\n\t}\r\n\tfunction r(t) {\r\n\t\treturn new DOMParser().parseFromString(t.trim(), \"text/html\").body.firstElementChild;\r\n\t}\r\n\tfunction l(t, e) {\r\n\t\tfor (e = e || \"previous\"; (t = t[e + \"Sibling\"]); ) if (3 == t.nodeType) return t;\r\n\t}\r\n\tfunction d(t) {\r\n\t\treturn \"string\" == typeof t ? t.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/`|'/g, \"&#039;\") : t;\r\n\t}\r\n\tfunction h(t) {\r\n\t\tvar e = Object.prototype.toString.call(t).split(\" \")[1].slice(0, -1);\r\n\t\treturn t === Object(t) && \"Array\" != e && \"Function\" != e && \"RegExp\" != e && \"HTMLUnknownElement\" != e;\r\n\t}\r\n\tfunction g(t, e, i) {\r\n\t\tfunction s(t, e) {\r\n\t\t\tfor (var i in e)\r\n\t\t\t\tif (e.hasOwnProperty(i)) {\r\n\t\t\t\t\tif (h(e[i])) {\r\n\t\t\t\t\t\th(t[i]) ? s(t[i], e[i]) : (t[i] = Object.assign({}, e[i]));\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (Array.isArray(e[i])) {\r\n\t\t\t\t\t\tt[i] = Object.assign([], e[i]);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tt[i] = e[i];\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn t instanceof Object || (t = {}), s(t, e), i && s(t, i), t;\r\n\t}\r\n\tfunction p() {\r\n\t\tconst t = [],\r\n\t\t\te = {};\r\n\t\tfor (let i of arguments) for (let s of i) h(s) ? e[s.value] || (t.push(s), (e[s.value] = 1)) : t.includes(s) || t.push(s);\r\n\t\treturn t;\r\n\t}\r\n\tfunction c(t) {\r\n\t\treturn String.prototype.normalize ? (\"string\" == typeof t ? t.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\") : void 0) : t;\r\n\t}\r\n\tvar u = () => /(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);\r\n\tfunction m() {\r\n\t\treturn ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (t) => (t ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (t / 4)))).toString(16));\r\n\t}\r\n\tfunction v(t) {\r\n\t\treturn t && t.classList && t.classList.contains(this.settings.classNames.tag);\r\n\t}\r\n\tvar f = { delimiters: \",\", pattern: null, tagTextProp: \"value\", maxTags: 1 / 0, callbacks: {}, addTagOnBlur: !0, duplicates: !1, whitelist: [], blacklist: [], enforceWhitelist: !1, userInput: !0, keepInvalidTags: !1, mixTagsAllowedAfter: /,|\\.|\\:|\\s/, mixTagsInterpolator: [\"[[\", \"]]\"], backspace: !0, skipInvalid: !1, pasteAsTags: !0, editTags: { clicks: 2, keepInvalid: !0 }, transformTag: () => {}, trim: !0, a11y: { focusableTags: !1 }, mixMode: { insertAfterTag: \" \" }, autoComplete: { enabled: !0, rightKey: !1 }, classNames: { namespace: \"tagify\", mixMode: \"tagify--mix\", selectMode: \"tagify--select\", input: \"tagify__input\", focus: \"tagify--focus\", tagNoAnimation: \"tagify--noAnim\", tagInvalid: \"tagify--invalid\", tagNotAllowed: \"tagify--notAllowed\", scopeLoading: \"tagify--loading\", hasMaxTags: \"tagify--hasMaxTags\", hasNoTags: \"tagify--noTags\", empty: \"tagify--empty\", inputInvalid: \"tagify__input--invalid\", dropdown: \"tagify__dropdown\", dropdownWrapper: \"tagify__dropdown__wrapper\", dropdownHeader: \"tagify__dropdown__header\", dropdownFooter: \"tagify__dropdown__footer\", dropdownItem: \"tagify__dropdown__item\", dropdownItemActive: \"tagify__dropdown__item--active\", dropdownInital: \"tagify__dropdown--initial\", tag: \"tagify__tag\", tagText: \"tagify__tag-text\", tagX: \"tagify__tag__removeBtn\", tagLoading: \"tagify__tag--loading\", tagEditing: \"tagify__tag--editable\", tagFlash: \"tagify__tag--flash\", tagHide: \"tagify__tag--hide\" }, dropdown: { classname: \"\", enabled: 2, maxItems: 10, searchKeys: [\"value\", \"searchBy\"], fuzzySearch: !0, caseSensitive: !1, accentedSearch: !0, highlightFirst: !1, closeOnSelect: !0, clearOnSelect: !0, position: \"all\", appendTarget: null }, hooks: { beforeRemoveTag: () => Promise.resolve(), beforePaste: () => Promise.resolve(), suggestionClick: () => Promise.resolve() } };\r\n\tfunction T() {\r\n\t\tthis.dropdown = {};\r\n\t\tfor (let t in this._dropdown) this.dropdown[t] = \"function\" == typeof this._dropdown[t] ? this._dropdown[t].bind(this) : this._dropdown[t];\r\n\t\tthis.dropdown.refs();\r\n\t}\r\n\tvar w = {\r\n\t\trefs() {\r\n\t\t\t(this.DOM.dropdown = this.parseTemplate(\"dropdown\", [this.settings])), (this.DOM.dropdown.content = this.DOM.dropdown.querySelector(\"[data-selector='tagify-dropdown-wrapper']\"));\r\n\t\t},\r\n\t\tshow(t) {\r\n\t\t\tvar e,\r\n\t\t\t\ti,\r\n\t\t\t\ta,\r\n\t\t\t\tn = this.settings,\r\n\t\t\t\to = \"mix\" == n.mode && !n.enforceWhitelist,\r\n\t\t\t\tr = !n.whitelist || !n.whitelist.length,\r\n\t\t\t\tl = \"manual\" == n.dropdown.position;\r\n\t\t\tif (((t = void 0 === t ? this.state.inputText : t), (!r || o || n.templates.dropdownItemNoMatch) && !1 !== n.dropdown.enable && !this.state.isLoading)) {\r\n\t\t\t\tif ((clearTimeout(this.dropdownHide__bindEventsTimeout), (this.suggestedListItems = this.dropdown.filterListItems(t)), t && !this.suggestedListItems.length && (this.trigger(\"dropdown:noMatch\", t), n.templates.dropdownItemNoMatch && (a = n.templates.dropdownItemNoMatch.call(this, { value: t }))), !a)) {\r\n\t\t\t\t\tif (this.suggestedListItems.length) t && o && !this.state.editing.scope && !s(this.suggestedListItems[0].value, t) && this.suggestedListItems.unshift({ value: t });\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (!t || !o || this.state.editing.scope) return this.input.autocomplete.suggest.call(this), void this.dropdown.hide();\r\n\t\t\t\t\t\tthis.suggestedListItems = [{ value: t }];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t(i = \"\" + (h((e = this.suggestedListItems[0])) ? e.value : e)), n.autoComplete && i && 0 == i.indexOf(t) && this.input.autocomplete.suggest.call(this, e);\r\n\t\t\t\t}\r\n\t\t\t\tthis.dropdown.fill(a),\r\n\t\t\t\t\tn.dropdown.highlightFirst && this.dropdown.highlightOption(this.DOM.dropdown.content.children[0]),\r\n\t\t\t\t\tthis.state.dropdown.visible || setTimeout(this.dropdown.events.binding.bind(this)),\r\n\t\t\t\t\t(this.state.dropdown.visible = t || !0),\r\n\t\t\t\t\t(this.state.dropdown.query = t),\r\n\t\t\t\t\tthis.setStateSelection(),\r\n\t\t\t\t\tl ||\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.dropdown.position(), this.dropdown.render();\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.trigger(\"dropdown:show\", this.DOM.dropdown);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\thide(t) {\r\n\t\t\tvar e = this.DOM,\r\n\t\t\t\ti = e.scope,\r\n\t\t\t\ts = e.dropdown,\r\n\t\t\t\ta = \"manual\" == this.settings.dropdown.position && !t;\r\n\t\t\tif (s && document.body.contains(s) && !a)\r\n\t\t\t\treturn (\r\n\t\t\t\t\twindow.removeEventListener(\"resize\", this.dropdown.position),\r\n\t\t\t\t\tthis.dropdown.events.binding.call(this, !1),\r\n\t\t\t\t\ti.setAttribute(\"aria-expanded\", !1),\r\n\t\t\t\t\ts.parentNode.removeChild(s),\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.state.dropdown.visible = !1;\r\n\t\t\t\t\t}, 100),\r\n\t\t\t\t\t(this.state.dropdown.query = this.state.ddItemData = this.state.ddItemElm = this.state.selection = null),\r\n\t\t\t\t\tthis.state.tag && this.state.tag.value.length && (this.state.flaggedTags[this.state.tag.baseOffset] = this.state.tag),\r\n\t\t\t\t\tthis.trigger(\"dropdown:hide\", s),\r\n\t\t\t\t\tthis\r\n\t\t\t\t);\r\n\t\t},\r\n\t\ttoggle(t) {\r\n\t\t\tthis.dropdown[this.state.dropdown.visible && !t ? \"hide\" : \"show\"]();\r\n\t\t},\r\n\t\trender() {\r\n\t\t\tvar t,\r\n\t\t\t\te,\r\n\t\t\t\ti,\r\n\t\t\t\ts = ((t = this.DOM.dropdown), ((i = t.cloneNode(!0)).style.cssText = \"position:fixed; top:-9999px; opacity:0\"), document.body.appendChild(i), (e = i.clientHeight), i.parentNode.removeChild(i), e),\r\n\t\t\t\ta = this.settings;\r\n\t\t\treturn \"number\" == typeof a.dropdown.enabled && a.dropdown.enabled >= 0 ? (this.DOM.scope.setAttribute(\"aria-expanded\", !0), document.body.contains(this.DOM.dropdown) || (this.DOM.dropdown.classList.add(a.classNames.dropdownInital), this.dropdown.position(s), a.dropdown.appendTarget.appendChild(this.DOM.dropdown), setTimeout(() => this.DOM.dropdown.classList.remove(a.classNames.dropdownInital))), this) : this;\r\n\t\t},\r\n\t\tfill(t) {\r\n\t\t\tt = \"string\" == typeof t ? t : this.dropdown.createListHTML(t || this.suggestedListItems);\r\n\t\t\tvar e,\r\n\t\t\t\ti = this.settings.templates.dropdownContent.call(this, t);\r\n\t\t\tthis.DOM.dropdown.content.innerHTML = (e = i) ? e.replace(/\\>[\\r\\n ]+\\</g, \"><\").replace(/(<.*?>)|\\s+/g, (t, e) => e || \" \") : \"\";\r\n\t\t},\r\n\t\trefilter(t) {\r\n\t\t\t(t = t || this.state.dropdown.query || \"\"), (this.suggestedListItems = this.dropdown.filterListItems(t)), this.dropdown.fill(), this.suggestedListItems.length || this.dropdown.hide(), this.trigger(\"dropdown:updated\", this.DOM.dropdown);\r\n\t\t},\r\n\t\tposition(t) {\r\n\t\t\tvar e = this.settings.dropdown;\r\n\t\t\tif (\"manual\" != e.position) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\ts,\r\n\t\t\t\t\ta,\r\n\t\t\t\t\tn,\r\n\t\t\t\t\to,\r\n\t\t\t\t\tr,\r\n\t\t\t\t\tl = this.DOM.dropdown,\r\n\t\t\t\t\td = e.placeAbove,\r\n\t\t\t\t\th = document.documentElement.clientHeight,\r\n\t\t\t\t\tg = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0) > 480 ? e.position : \"all\",\r\n\t\t\t\t\tp = this.DOM[\"input\" == g ? \"input\" : \"scope\"];\r\n\t\t\t\t(t = t || l.clientHeight),\r\n\t\t\t\t\tthis.state.dropdown.visible &&\r\n\t\t\t\t\t\t(\"text\" == g\r\n\t\t\t\t\t\t\t? ((a = (i = this.getCaretGlobalPosition()).bottom), (s = i.top), (n = i.left), (o = \"auto\"))\r\n\t\t\t\t\t\t\t: ((r = (function (t) {\r\n\t\t\t\t\t\t\t\t\tfor (var e = 0, i = 0; t; ) (e += t.offsetLeft || 0), (i += t.offsetTop || 0), (t = t.parentNode);\r\n\t\t\t\t\t\t\t\t\treturn { left: e, top: i };\r\n\t\t\t\t\t\t\t  })(this.settings.dropdown.appendTarget)),\r\n\t\t\t\t\t\t\t  (s = (i = p.getBoundingClientRect()).top - r.top),\r\n\t\t\t\t\t\t\t  (a = i.bottom - 1 - r.top),\r\n\t\t\t\t\t\t\t  (n = i.left - r.left),\r\n\t\t\t\t\t\t\t  (o = i.width + \"px\")),\r\n\t\t\t\t\t\t(s = Math.floor(s)),\r\n\t\t\t\t\t\t(a = Math.ceil(a)),\r\n\t\t\t\t\t\t(d = void 0 === d ? h - i.bottom < t : d),\r\n\t\t\t\t\t\t(l.style.cssText = \"left:\" + (n + window.pageXOffset) + \"px; width:\" + o + \";\" + (d ? \"top: \" + (s + window.pageYOffset) + \"px\" : \"top: \" + (a + window.pageYOffset) + \"px\")),\r\n\t\t\t\t\t\tl.setAttribute(\"placement\", d ? \"top\" : \"bottom\"),\r\n\t\t\t\t\t\tl.setAttribute(\"position\", g));\r\n\t\t\t}\r\n\t\t},\r\n\t\tevents: {\r\n\t\t\tbinding(t = !0) {\r\n\t\t\t\tvar e = this.dropdown.events.callbacks,\r\n\t\t\t\t\ti = (this.listeners.dropdown = this.listeners.dropdown || { position: this.dropdown.position.bind(this), onKeyDown: e.onKeyDown.bind(this), onMouseOver: e.onMouseOver.bind(this), onMouseLeave: e.onMouseLeave.bind(this), onClick: e.onClick.bind(this), onScroll: e.onScroll.bind(this) }),\r\n\t\t\t\t\ts = t ? \"addEventListener\" : \"removeEventListener\";\r\n\t\t\t\t\"manual\" != this.settings.dropdown.position && (window[s](\"resize\", i.position), window[s](\"keydown\", i.onKeyDown)), this.DOM.dropdown[s](\"mouseover\", i.onMouseOver), this.DOM.dropdown[s](\"mouseleave\", i.onMouseLeave), this.DOM.dropdown[s](\"mousedown\", i.onClick), this.DOM.dropdown.content[s](\"scroll\", i.onScroll);\r\n\t\t\t},\r\n\t\t\tcallbacks: {\r\n\t\t\t\tonKeyDown(t) {\r\n\t\t\t\t\tvar e = this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),\r\n\t\t\t\t\t\ti = this.dropdown.getSuggestionDataByNode(e);\r\n\t\t\t\t\tswitch (t.key) {\r\n\t\t\t\t\t\tcase \"ArrowDown\":\r\n\t\t\t\t\t\tcase \"ArrowUp\":\r\n\t\t\t\t\t\tcase \"Down\":\r\n\t\t\t\t\t\tcase \"Up\":\r\n\t\t\t\t\t\t\tvar s;\r\n\t\t\t\t\t\t\tt.preventDefault(), e && (e = e[(\"ArrowUp\" == t.key || \"Up\" == t.key ? \"previous\" : \"next\") + \"ElementSibling\"]), e || ((s = this.DOM.dropdown.content.children), (e = s[\"ArrowUp\" == t.key || \"Up\" == t.key ? s.length - 1 : 0])), (i = this.dropdown.getSuggestionDataByNode(e)), this.dropdown.highlightOption(e, !0);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"Escape\":\r\n\t\t\t\t\t\tcase \"Esc\":\r\n\t\t\t\t\t\t\tthis.dropdown.hide();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"ArrowRight\":\r\n\t\t\t\t\t\t\tif (this.state.actions.ArrowLeft) return;\r\n\t\t\t\t\t\tcase \"Tab\":\r\n\t\t\t\t\t\t\tif (\"mix\" != this.settings.mode && e && !this.settings.autoComplete.rightKey && !this.state.editing) {\r\n\t\t\t\t\t\t\t\tt.preventDefault();\r\n\t\t\t\t\t\t\t\tvar a = this.dropdown.getMappedValue(i);\r\n\t\t\t\t\t\t\t\treturn this.input.autocomplete.set.call(this, a), !1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn !0;\r\n\t\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\t\t\tt.preventDefault(),\r\n\t\t\t\t\t\t\t\tthis.settings.hooks\r\n\t\t\t\t\t\t\t\t\t.suggestionClick(t, { tagify: this, tagData: i, suggestionElm: e })\r\n\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\tif (e) return this.dropdown.selectOption(e);\r\n\t\t\t\t\t\t\t\t\t\tthis.dropdown.hide(), \"mix\" != this.settings.mode && this.addTags(this.state.inputText.trim(), !0);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.catch((t) => t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"Backspace\": {\r\n\t\t\t\t\t\t\tif (\"mix\" == this.settings.mode || this.state.editing.scope) return;\r\n\t\t\t\t\t\t\tconst t = this.input.raw.call(this);\r\n\t\t\t\t\t\t\t(\"\" != t && 8203 != t.charCodeAt(0)) || (!0 === this.settings.backspace ? this.removeTags() : \"edit\" == this.settings.backspace && setTimeout(this.editTag.bind(this), 0));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonMouseOver(t) {\r\n\t\t\t\t\tvar e = t.target.closest(this.settings.classNames.dropdownItemSelector);\r\n\t\t\t\t\te && this.dropdown.highlightOption(e);\r\n\t\t\t\t},\r\n\t\t\t\tonMouseLeave(t) {\r\n\t\t\t\t\tthis.dropdown.highlightOption();\r\n\t\t\t\t},\r\n\t\t\t\tonClick(t) {\r\n\t\t\t\t\tif (0 == t.button && t.target != this.DOM.dropdown && t.target != this.DOM.dropdown.content) {\r\n\t\t\t\t\t\tvar e = t.target.closest(this.settings.classNames.dropdownItemSelector),\r\n\t\t\t\t\t\t\ti = this.dropdown.getSuggestionDataByNode(e);\r\n\t\t\t\t\t\t(this.state.actions.selectOption = !0),\r\n\t\t\t\t\t\t\tsetTimeout(() => (this.state.actions.selectOption = !1), 50),\r\n\t\t\t\t\t\t\tthis.settings.hooks\r\n\t\t\t\t\t\t\t\t.suggestionClick(t, { tagify: this, tagData: i, suggestionElm: e })\r\n\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\te ? this.dropdown.selectOption(e) : this.dropdown.hide();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch((t) => console.warn(t));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonScroll(t) {\r\n\t\t\t\t\tvar e = t.target,\r\n\t\t\t\t\t\ti = (e.scrollTop / (e.scrollHeight - e.parentNode.clientHeight)) * 100;\r\n\t\t\t\t\tthis.trigger(\"dropdown:scroll\", { percentage: Math.round(i) });\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tgetSuggestionDataByNode(t) {\r\n\t\t\tvar e = t ? +t.getAttribute(\"tagifySuggestionIdx\") : -1;\r\n\t\t\treturn this.suggestedListItems[e] || null;\r\n\t\t},\r\n\t\thighlightOption(t, e) {\r\n\t\t\tvar i,\r\n\t\t\t\ts = this.settings.classNames.dropdownItemActive;\r\n\t\t\tif ((this.state.ddItemElm && (this.state.ddItemElm.classList.remove(s), this.state.ddItemElm.removeAttribute(\"aria-selected\")), !t)) return (this.state.ddItemData = null), (this.state.ddItemElm = null), void this.input.autocomplete.suggest.call(this);\r\n\t\t\t(i = this.suggestedListItems[this.getNodeIndex(t)]), (this.state.ddItemData = i), (this.state.ddItemElm = t), t.classList.add(s), t.setAttribute(\"aria-selected\", !0), e && (t.parentNode.scrollTop = t.clientHeight + t.offsetTop - t.parentNode.clientHeight), this.settings.autoComplete && (this.input.autocomplete.suggest.call(this, i), this.dropdown.position());\r\n\t\t},\r\n\t\tselectOption(t) {\r\n\t\t\tvar e = this.settings.dropdown,\r\n\t\t\t\ti = e.clearOnSelect,\r\n\t\t\t\ts = e.closeOnSelect;\r\n\t\t\tif (!t) return this.addTags(this.state.inputText, !0), void (s && this.dropdown.hide());\r\n\t\t\tvar a = t.getAttribute(\"tagifySuggestionIdx\"),\r\n\t\t\t\tn = this.suggestedListItems[+a];\r\n\t\t\tthis.trigger(\"dropdown:select\", { data: n, elm: t }),\r\n\t\t\t\ta && n\r\n\t\t\t\t\t? (this.state.editing ? this.onEditTagDone(null, g({ __isValid: !0 }, this.normalizeTags([n])[0])) : this[\"mix\" == this.settings.mode ? \"addMixTags\" : \"addTags\"]([n], i),\r\n\t\t\t\t\t  this.DOM.input.parentNode &&\r\n\t\t\t\t\t\t\t(setTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.DOM.input.focus(), this.toggleFocusClass(!0);\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\ts ? setTimeout(this.dropdown.hide.bind(this)) : this.dropdown.refilter()))\r\n\t\t\t\t\t: this.dropdown.hide();\r\n\t\t},\r\n\t\tselectAll(t) {\r\n\t\t\t(this.suggestedListItems.length = 0), this.dropdown.hide(), this.dropdown.filterListItems(\"\");\r\n\t\t\tvar e = this.dropdown.filterListItems(\"\");\r\n\t\t\treturn t || (e = this.state.dropdown.suggestions), this.addTags(e, !0), this;\r\n\t\t},\r\n\t\tfilterListItems(t, e) {\r\n\t\t\tvar i,\r\n\t\t\t\ts,\r\n\t\t\t\ta,\r\n\t\t\t\tn,\r\n\t\t\t\to,\r\n\t\t\t\tr = this.settings,\r\n\t\t\t\tl = r.dropdown,\r\n\t\t\t\td = ((e = e || {}), (t = \"select\" == r.mode && this.value.length && this.value[0][r.tagTextProp] == t ? \"\" : t), []),\r\n\t\t\t\tg = [],\r\n\t\t\t\tp = r.whitelist,\r\n\t\t\t\tu = l.maxItems >= 0 ? l.maxItems : 1 / 0,\r\n\t\t\t\tm = l.searchKeys,\r\n\t\t\t\tv = 0;\r\n\t\t\tif (!t || !m.length) return (d = r.duplicates ? p : p.filter((t) => !this.isTagDuplicate(h(t) ? t.value : t))), (this.state.dropdown.suggestions = d), d.slice(0, u);\r\n\t\t\tfunction f(t, e) {\r\n\t\t\t\treturn e\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.split(\" \")\r\n\t\t\t\t\t.every((e) => t.includes(e.toLowerCase()));\r\n\t\t\t}\r\n\t\t\tfor (o = l.caseSensitive ? \"\" + t : (\"\" + t).toLowerCase(); v < p.length; v++) {\r\n\t\t\t\tlet t, u;\r\n\t\t\t\ti = p[v] instanceof Object ? p[v] : { value: p[v] };\r\n\t\t\t\tlet T = !Object.keys(i).some((t) => m.includes(t)) ? [\"value\"] : m;\r\n\t\t\t\tl.fuzzySearch && !e.exact\r\n\t\t\t\t\t? ((a = T.reduce((t, e) => t + \" \" + (i[e] || \"\"), \"\")\r\n\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t.trim()),\r\n\t\t\t\t\t  l.accentedSearch && ((a = c(a)), (o = c(o))),\r\n\t\t\t\t\t  (t = 0 == a.indexOf(o)),\r\n\t\t\t\t\t  (u = a === o),\r\n\t\t\t\t\t  (s = f(a, o)))\r\n\t\t\t\t\t: ((t = !0),\r\n\t\t\t\t\t  (s = T.some((t) => {\r\n\t\t\t\t\t\t\tvar s = \"\" + (i[t] || \"\");\r\n\t\t\t\t\t\t\treturn l.accentedSearch && ((s = c(s)), (o = c(o))), l.caseSensitive || (s = s.toLowerCase()), (u = s === o), e.exact ? s === o : 0 == s.indexOf(o);\r\n\t\t\t\t\t  }))),\r\n\t\t\t\t\t(n = !r.duplicates && this.isTagDuplicate(h(i) ? i.value : i)),\r\n\t\t\t\t\ts && !n && (u && t ? g.push(i) : \"startsWith\" == l.sortby && t ? d.unshift(i) : d.push(i));\r\n\t\t\t}\r\n\t\t\treturn (this.state.dropdown.suggestions = g.concat(d)), \"function\" == typeof l.sortby ? l.sortby(g.concat(d), o) : g.concat(d).slice(0, u);\r\n\t\t},\r\n\t\tgetMappedValue(t) {\r\n\t\t\tvar e = this.settings.dropdown.mapValueTo;\r\n\t\t\treturn e ? (\"function\" == typeof e ? e(t) : t[e] || t.value) : t.value;\r\n\t\t},\r\n\t\tcreateListHTML(t) {\r\n\t\t\treturn g([], t)\r\n\t\t\t\t.map((t, e) => {\r\n\t\t\t\t\t(\"string\" != typeof t && \"number\" != typeof t) || (t = { value: t });\r\n\t\t\t\t\tvar i = this.dropdown.getMappedValue(t);\r\n\t\t\t\t\tt.value = \"string\" == typeof i ? d(i) : i;\r\n\t\t\t\t\tvar s = this.settings.templates.dropdownItem.apply(this, [t, this]);\r\n\t\t\t\t\treturn (s = s.replace(/\\s*tagifySuggestionIdx=([\"'])(.*?)\\1/gim, \"\").replace(\">\", ` tagifySuggestionIdx=\"${e}\">`));\r\n\t\t\t\t})\r\n\t\t\t\t.join(\"\");\r\n\t\t},\r\n\t};\r\n\tconst b = \"@yaireo/tagify/\";\r\n\tvar y,\r\n\t\tx = { empty: \"empty\", exceed: \"number of tags exceeded\", pattern: \"pattern mismatch\", duplicate: \"already exists\", notAllowed: \"not allowed\" },\r\n\t\tD = {\r\n\t\t\twrapper: (t, e) => `<tags class=\"${e.classNames.namespace} ${e.mode ? `${e.classNames[e.mode + \"Mode\"]}` : \"\"} ${t.className}\"\\n                    ${e.readonly ? \"readonly\" : \"\"}\\n                    ${e.disabled ? \"disabled\" : \"\"}\\n                    ${e.required ? \"required\" : \"\"}\\n                    ${\"select\" === e.mode ? \"spellcheck='false'\" : \"\"}\\n                    tabIndex=\"-1\">\\n            <span ${!e.readonly && e.userInput ? \"contenteditable\" : \"\"} tabIndex=\"0\" data-placeholder=\"${e.placeholder || \"&#8203;\"}\" aria-placeholder=\"${e.placeholder || \"\"}\"\\n                class=\"${e.classNames.input}\"\\n                role=\"textbox\"\\n                aria-autocomplete=\"both\"\\n                aria-multiline=\"${\"mix\" == e.mode}\"></span>\\n                &#8203;\\n        </tags>`,\r\n\t\t\ttag(t, e) {\r\n\t\t\t\tvar i = this.settings;\r\n\t\t\t\treturn `<tag title=\"${t.title || t.value}\"\\n                    contenteditable='false'\\n                    spellcheck='false'\\n                    tabIndex=\"${i.a11y.focusableTags ? 0 : -1}\"\\n                    class=\"${i.classNames.tag} ${t.class || \"\"}\"\\n                    ${this.getAttributes(t)}>\\n            <x title='' class=\"${i.classNames.tagX}\" role='button' aria-label='remove tag'></x>\\n            <div>\\n                <span class=\"${i.classNames.tagText}\">${t[i.tagTextProp] || t.value}</span>\\n            </div>\\n        </tag>`;\r\n\t\t\t},\r\n\t\t\tdropdown(t) {\r\n\t\t\t\tvar e = t.dropdown,\r\n\t\t\t\t\ti = \"manual\" == e.position,\r\n\t\t\t\t\ts = `${t.classNames.dropdown}`;\r\n\t\t\t\treturn `<div class=\"${i ? \"\" : s} ${e.classname}\" role=\"listbox\" aria-labelledby=\"dropdown\">\\n                    <div data-selector='tagify-dropdown-wrapper' class=\"${t.classNames.dropdownWrapper}\"></div>\\n                </div>`;\r\n\t\t\t},\r\n\t\t\tdropdownContent(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = this.state.dropdown.suggestions;\r\n\t\t\t\treturn `\\n            ${e.templates.dropdownHeader.call(this, i)}\\n            ${t}\\n            ${e.templates.dropdownFooter.call(this, i)}\\n        `;\r\n\t\t\t},\r\n\t\t\tdropdownItem(t, e) {\r\n\t\t\t\treturn `<div ${this.getAttributes(t)}\\n                    class='${this.settings.classNames.dropdownItem} ${t.class ? t.class : \"\"}'\\n                    tabindex=\"0\"\\n                    role=\"option\">${t.value}</div>`;\r\n\t\t\t},\r\n\t\t\tdropdownHeader: (t) => \"\",\r\n\t\t\tdropdownFooter(t) {\r\n\t\t\t\tvar e = t.length - this.settings.dropdown.maxItems;\r\n\t\t\t\treturn e > 0 ? `<footer data-selector='tagify-suggestions-footer' class=\"${this.settings.classNames.dropdownFooter}\">\\n                ${e} more items. Refine your search.\\n            </footer>` : \"\";\r\n\t\t\t},\r\n\t\t\tdropdownItemNoMatch: null,\r\n\t\t};\r\n\tvar O = {\r\n\t\tcustomBinding() {\r\n\t\t\tthis.customEventsList.forEach((t) => {\r\n\t\t\t\tthis.on(t, this.settings.callbacks[t]);\r\n\t\t\t});\r\n\t\t},\r\n\t\tbinding(t = !0) {\r\n\t\t\tvar e,\r\n\t\t\t\ti = this.events.callbacks,\r\n\t\t\t\ts = t ? \"addEventListener\" : \"removeEventListener\";\r\n\t\t\tif (!this.state.mainEvents || !t) {\r\n\t\t\t\tfor (var a in ((this.state.mainEvents = t), t && !this.listeners.main && (this.events.bindGlobal.call(this), this.settings.isJQueryPlugin && jQuery(this.DOM.originalInput).on(\"tagify.removeAllTags\", this.removeAllTags.bind(this))), (e = this.listeners.main = this.listeners.main || { focus: [\"input\", i.onFocusBlur.bind(this)], keydown: [\"input\", i.onKeydown.bind(this)], click: [\"scope\", i.onClickScope.bind(this)], dblclick: [\"scope\", i.onDoubleClickScope.bind(this)], paste: [\"input\", i.onPaste.bind(this)], drop: [\"input\", i.onDrop.bind(this)] }))) this.DOM[e[a][0]][s](a, e[a][1]);\r\n\t\t\t\tclearInterval(this.listeners.main.originalInputValueObserverInterval), (this.listeners.main.originalInputValueObserverInterval = setInterval(i.observeOriginalInputValue.bind(this), 500));\r\n\t\t\t\tvar n = this.listeners.main.inputMutationObserver || new MutationObserver(i.onInputDOMChange.bind(this));\r\n\t\t\t\tn && n.disconnect(), \"mix\" == this.settings.mode && n.observe(this.DOM.input, { childList: !0 });\r\n\t\t\t}\r\n\t\t},\r\n\t\tbindGlobal(t) {\r\n\t\t\tvar e,\r\n\t\t\t\ti = this.events.callbacks,\r\n\t\t\t\ts = t ? \"removeEventListener\" : \"addEventListener\";\r\n\t\t\tif (t || !this.listeners.global)\r\n\t\t\t\tfor (e of ((this.listeners.global = (this.listeners && this.listeners.global) || [\r\n\t\t\t\t\t{ type: this.isIE ? \"keydown\" : \"input\", target: this.DOM.input, cb: i[this.isIE ? \"onInputIE\" : \"onInput\"].bind(this) },\r\n\t\t\t\t\t{ type: \"keydown\", target: window, cb: i.onWindowKeyDown.bind(this) },\r\n\t\t\t\t\t{ type: \"blur\", target: this.DOM.input, cb: i.onFocusBlur.bind(this) },\r\n\t\t\t\t]),\r\n\t\t\t\tthis.listeners.global))\r\n\t\t\t\t\te.target[s](e.type, e.cb);\r\n\t\t},\r\n\t\tunbindGlobal() {\r\n\t\t\tthis.events.bindGlobal.call(this, !0);\r\n\t\t},\r\n\t\tcallbacks: {\r\n\t\t\tonFocusBlur(t) {\r\n\t\t\t\tvar e = t.target ? this.trim(t.target.textContent) : \"\",\r\n\t\t\t\t\ti = this.settings,\r\n\t\t\t\t\ts = t.type,\r\n\t\t\t\t\ta = i.dropdown.enabled >= 0,\r\n\t\t\t\t\tn = { relatedTarget: t.relatedTarget },\r\n\t\t\t\t\to = this.state.actions.selectOption && (a || !i.dropdown.closeOnSelect),\r\n\t\t\t\t\tr = this.state.actions.addNew && a,\r\n\t\t\t\t\tl = t.relatedTarget && v.call(this, t.relatedTarget) && this.DOM.scope.contains(t.relatedTarget);\r\n\t\t\t\tif (\"blur\" == s) {\r\n\t\t\t\t\tif (t.relatedTarget === this.DOM.scope) return this.dropdown.hide(), void this.DOM.input.focus();\r\n\t\t\t\t\tthis.postUpdate(), this.triggerChangeEvent();\r\n\t\t\t\t}\r\n\t\t\t\tif (!o && !r)\r\n\t\t\t\t\tif (((this.state.hasFocus = \"focus\" == s && +new Date()), this.toggleFocusClass(this.state.hasFocus), \"mix\" != i.mode)) {\r\n\t\t\t\t\t\tif (\"focus\" == s) return this.trigger(\"focus\", n), void ((0 !== i.dropdown.enabled && i.userInput) || this.dropdown.show(this.value.length ? \"\" : void 0));\r\n\t\t\t\t\t\tif (\"blur\" == s) {\r\n\t\t\t\t\t\t\tvar d, h;\r\n\t\t\t\t\t\t\tthis.trigger(\"blur\", n), this.loading(!1);\r\n\t\t\t\t\t\t\tlet t = i.enforceWhitelist ? !!this.getWhitelistItem(null === (d = this.value) || void 0 === d || null === (h = d[0]) || void 0 === h ? void 0 : h.value) : i.keepInvalidTags;\r\n\t\t\t\t\t\t\t\"select\" == this.settings.mode && l && (e = \"\"), \"select\" !== this.settings.mode && e && !this.state.actions.selectOption && i.addTagOnBlur && this.addTags(e, !0), \"select\" != this.settings.mode || (e && t) || this.removeTags();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.DOM.input.removeAttribute(\"style\"), this.dropdown.hide();\r\n\t\t\t\t\t} else \"focus\" == s ? this.trigger(\"focus\", n) : \"blur\" == t.type && (this.trigger(\"blur\", n), this.loading(!1), this.dropdown.hide(), (this.state.dropdown.visible = void 0), this.setStateSelection());\r\n\t\t\t},\r\n\t\t\tonWindowKeyDown(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = document.activeElement;\r\n\t\t\t\tif (v.call(this, i) && this.DOM.scope.contains(document.activeElement))\r\n\t\t\t\t\tswitch (((e = i.nextElementSibling), t.key)) {\r\n\t\t\t\t\t\tcase \"Backspace\":\r\n\t\t\t\t\t\t\tthis.settings.readonly || (this.removeTags(i), (e || this.DOM.input).focus());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\t\t\tsetTimeout(this.editTag.bind(this), 0, i);\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonKeydown(t) {\r\n\t\t\t\tvar e = this.settings;\r\n\t\t\t\t\"select\" == e.mode && e.enforceWhitelist && this.value.length && \"Tab\" != t.key && t.preventDefault();\r\n\t\t\t\tvar i = this.trim(t.target.textContent);\r\n\t\t\t\tif ((this.trigger(\"keydown\", { originalEvent: this.cloneEvent(t) }), \"mix\" == e.mode)) {\r\n\t\t\t\t\tswitch (t.key) {\r\n\t\t\t\t\t\tcase \"Left\":\r\n\t\t\t\t\t\tcase \"ArrowLeft\":\r\n\t\t\t\t\t\t\tthis.state.actions.ArrowLeft = !0;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"Delete\":\r\n\t\t\t\t\t\tcase \"Backspace\":\r\n\t\t\t\t\t\t\tif (this.state.editing) return;\r\n\t\t\t\t\t\t\tvar s,\r\n\t\t\t\t\t\t\t\ta,\r\n\t\t\t\t\t\t\t\tn,\r\n\t\t\t\t\t\t\t\tr = document.getSelection(),\r\n\t\t\t\t\t\t\t\td = \"Delete\" == t.key && r.anchorOffset == (r.anchorNode.length || 0),\r\n\t\t\t\t\t\t\t\th = r.anchorNode.previousSibling,\r\n\t\t\t\t\t\t\t\tg = 1 == r.anchorNode.nodeType || (!r.anchorOffset && h && 1 == h.nodeType && r.anchorNode.previousSibling),\r\n\t\t\t\t\t\t\t\tp = o(this.DOM.input.innerHTML),\r\n\t\t\t\t\t\t\t\tc = this.getTagElms();\r\n\t\t\t\t\t\t\tif (\"edit\" == e.backspace && g) return (s = 1 == r.anchorNode.nodeType ? null : r.anchorNode.previousElementSibling), setTimeout(this.editTag.bind(this), 0, s), void t.preventDefault();\r\n\t\t\t\t\t\t\tif (u() && g)\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t(n = l(g)),\r\n\t\t\t\t\t\t\t\t\tg.hasAttribute(\"readonly\") || g.remove(),\r\n\t\t\t\t\t\t\t\t\tthis.DOM.input.focus(),\r\n\t\t\t\t\t\t\t\t\tvoid setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.placeCaretAfterNode(n), this.DOM.input.click();\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif (\"BR\" == r.anchorNode.nodeName) return;\r\n\t\t\t\t\t\t\tif (((d || g) && 1 == r.anchorNode.nodeType ? (a = 0 == r.anchorOffset ? (d ? c[0] : null) : c[r.anchorOffset - 1]) : d ? (a = r.anchorNode.nextElementSibling) : g && (a = g), 3 == r.anchorNode.nodeType && !r.anchorNode.nodeValue && r.anchorNode.previousElementSibling && t.preventDefault(), (g || d) && !e.backspace)) return void t.preventDefault();\r\n\t\t\t\t\t\t\tif (\"Range\" != r.type && !r.anchorOffset && r.anchorNode == this.DOM.input && \"Delete\" != t.key) return void t.preventDefault();\r\n\t\t\t\t\t\t\tif (\"Range\" != r.type && a && a.hasAttribute(\"readonly\")) return void this.placeCaretAfterNode(l(a));\r\n\t\t\t\t\t\t\tclearTimeout(y),\r\n\t\t\t\t\t\t\t\t(y = setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tvar t = document.getSelection(),\r\n\t\t\t\t\t\t\t\t\t\te = o(this.DOM.input.innerHTML),\r\n\t\t\t\t\t\t\t\t\t\ti = !d && t.anchorNode.previousSibling;\r\n\t\t\t\t\t\t\t\t\tif (e.length >= p.length && i)\r\n\t\t\t\t\t\t\t\t\t\tif (v.call(this, i) && !i.hasAttribute(\"readonly\")) {\r\n\t\t\t\t\t\t\t\t\t\t\tif ((this.removeTags(i), this.fixFirefoxLastTagNoCaret(), 2 == this.DOM.input.children.length && \"BR\" == this.DOM.input.children[1].tagName)) return (this.DOM.input.innerHTML = \"\"), (this.value.length = 0), !0;\r\n\t\t\t\t\t\t\t\t\t\t} else i.remove();\r\n\t\t\t\t\t\t\t\t\tthis.value = [].map\r\n\t\t\t\t\t\t\t\t\t\t.call(c, (t, e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tvar i = this.tagData(t);\r\n\t\t\t\t\t\t\t\t\t\t\tif (t.parentNode || i.readonly) return i;\r\n\t\t\t\t\t\t\t\t\t\t\tthis.trigger(\"remove\", { tag: t, index: e, data: i });\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.filter((t) => t);\r\n\t\t\t\t\t\t\t\t}, 20));\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn !0;\r\n\t\t\t\t}\r\n\t\t\t\tswitch (t.key) {\r\n\t\t\t\t\tcase \"Backspace\":\r\n\t\t\t\t\t\t\"select\" == e.mode && e.enforceWhitelist && this.value.length ? this.removeTags() : (this.state.dropdown.visible && \"manual\" != e.dropdown.position) || (\"\" != t.target.textContent && 8203 != i.charCodeAt(0)) || (!0 === e.backspace ? this.removeTags() : \"edit\" == e.backspace && setTimeout(this.editTag.bind(this), 0));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Esc\":\r\n\t\t\t\t\tcase \"Escape\":\r\n\t\t\t\t\t\tif (this.state.dropdown.visible) return;\r\n\t\t\t\t\t\tt.target.blur();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Down\":\r\n\t\t\t\t\tcase \"ArrowDown\":\r\n\t\t\t\t\t\tthis.state.dropdown.visible || this.dropdown.show();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"ArrowRight\": {\r\n\t\t\t\t\t\tlet t = this.state.inputSuggestion || this.state.ddItemData;\r\n\t\t\t\t\t\tif (t && e.autoComplete.rightKey) return void this.addTags([t], !0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase \"Tab\": {\r\n\t\t\t\t\t\tlet s = \"select\" == e.mode;\r\n\t\t\t\t\t\tif (!i || s) return !0;\r\n\t\t\t\t\t\tt.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\t\tif (this.state.dropdown.visible || 229 == t.keyCode) return;\r\n\t\t\t\t\t\tt.preventDefault(),\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.state.actions.selectOption || this.addTags(i, !0);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonInput(t) {\r\n\t\t\t\tif ((this.postUpdate(), \"mix\" == this.settings.mode)) return this.events.callbacks.onMixTagsInput.call(this, t);\r\n\t\t\t\tvar e = this.input.normalize.call(this),\r\n\t\t\t\t\ti = e.length >= this.settings.dropdown.enabled,\r\n\t\t\t\t\ts = { value: e, inputElm: this.DOM.input };\r\n\t\t\t\t(s.isValid = this.validateTag({ value: e })), this.state.inputText != e && (this.input.set.call(this, e, !1), -1 != e.search(this.settings.delimiters) ? this.addTags(e) && this.input.set.call(this) : this.settings.dropdown.enabled >= 0 && this.dropdown[i ? \"show\" : \"hide\"](e), this.trigger(\"input\", s));\r\n\t\t\t},\r\n\t\t\tonMixTagsInput(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\ts,\r\n\t\t\t\t\ta,\r\n\t\t\t\t\tn,\r\n\t\t\t\t\to,\r\n\t\t\t\t\tr,\r\n\t\t\t\t\tl,\r\n\t\t\t\t\td = this.settings,\r\n\t\t\t\t\th = this.value.length,\r\n\t\t\t\t\tp = this.getTagElms(),\r\n\t\t\t\t\tc = document.createDocumentFragment(),\r\n\t\t\t\t\tm = window.getSelection().getRangeAt(0),\r\n\t\t\t\t\tv = [].map.call(p, (t) => this.tagData(t).value);\r\n\t\t\t\tif (\r\n\t\t\t\t\t(\"deleteContentBackward\" == t.inputType && u() && this.events.callbacks.onKeydown.call(this, { target: t.target, key: \"Backspace\" }),\r\n\t\t\t\t\tthis.value.slice().forEach((t) => {\r\n\t\t\t\t\t\tt.readonly && !v.includes(t.value) && c.appendChild(this.createTagElem(t));\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tc.childNodes.length && (m.insertNode(c), this.setRangeAtStartEnd(!1, c.lastChild)),\r\n\t\t\t\t\tp.length != h)\r\n\t\t\t\t)\r\n\t\t\t\t\treturn (this.value = [].map.call(this.getTagElms(), (t) => this.tagData(t))), void this.update({ withoutChangeEvent: !0 });\r\n\t\t\t\tif (this.hasMaxTags()) return !0;\r\n\t\t\t\tif (window.getSelection && (o = window.getSelection()).rangeCount > 0 && 3 == o.anchorNode.nodeType) {\r\n\t\t\t\t\tif (((m = o.getRangeAt(0).cloneRange()).collapse(!0), m.setStart(o.focusNode, 0), (s = (e = m.toString().slice(0, m.endOffset)).split(d.pattern).length - 1), (i = e.match(d.pattern)) && (a = e.slice(e.lastIndexOf(i[i.length - 1]))), a)) {\r\n\t\t\t\t\t\tif (((this.state.actions.ArrowLeft = !1), (this.state.tag = { prefix: a.match(d.pattern)[0], value: a.replace(d.pattern, \"\") }), (this.state.tag.baseOffset = o.baseOffset - this.state.tag.value.length), (l = this.state.tag.value.match(d.delimiters)))) return (this.state.tag.value = this.state.tag.value.replace(d.delimiters, \"\")), (this.state.tag.delimiters = l[0]), this.addTags(this.state.tag.value, d.dropdown.clearOnSelect), void this.dropdown.hide();\r\n\t\t\t\t\t\tn = this.state.tag.value.length >= d.dropdown.enabled;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t(r = (r = this.state.flaggedTags[this.state.tag.baseOffset]).prefix == this.state.tag.prefix && r.value[0] == this.state.tag.value[0]), this.state.flaggedTags[this.state.tag.baseOffset] && !this.state.tag.value && delete this.state.flaggedTags[this.state.tag.baseOffset];\r\n\t\t\t\t\t\t} catch (t) {}\r\n\t\t\t\t\t\t(r || s < this.state.mixMode.matchedPatternCount) && (n = !1);\r\n\t\t\t\t\t} else this.state.flaggedTags = {};\r\n\t\t\t\t\tthis.state.mixMode.matchedPatternCount = s;\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.update({ withoutChangeEvent: !0 }), this.trigger(\"input\", g({}, this.state.tag, { textContent: this.DOM.input.textContent })), this.state.tag && this.dropdown[n ? \"show\" : \"hide\"](this.state.tag.value);\r\n\t\t\t\t}, 10);\r\n\t\t\t},\r\n\t\t\tonInputIE(t) {\r\n\t\t\t\tvar e = this;\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\te.events.callbacks.onInput.call(e, t);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tobserveOriginalInputValue() {\r\n\t\t\t\tthis.DOM.originalInput.value != this.DOM.originalInput.tagifyValue && this.loadOriginalValues();\r\n\t\t\t},\r\n\t\t\tonClickScope(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = t.target.closest(\".\" + e.classNames.tag),\r\n\t\t\t\t\ts = +new Date() - this.state.hasFocus;\r\n\t\t\t\tif (t.target != this.DOM.scope) {\r\n\t\t\t\t\tif (!t.target.classList.contains(e.classNames.tagX)) return i ? (this.trigger(\"click\", { tag: i, index: this.getNodeIndex(i), data: this.tagData(i), originalEvent: this.cloneEvent(t) }), void ((1 !== e.editTags && 1 !== e.editTags.clicks) || this.events.callbacks.onDoubleClickScope.call(this, t))) : void (t.target == this.DOM.input && (\"mix\" == e.mode && this.fixFirefoxLastTagNoCaret(), s > 500) ? (this.state.dropdown.visible ? this.dropdown.hide() : 0 === e.dropdown.enabled && \"mix\" != e.mode && this.dropdown.show(this.value.length ? \"\" : void 0)) : \"select\" == e.mode && !this.state.dropdown.visible && this.dropdown.show());\r\n\t\t\t\t\tthis.removeTags(t.target.parentNode);\r\n\t\t\t\t} else this.state.hasFocus || this.DOM.input.focus();\r\n\t\t\t},\r\n\t\t\tonPaste(t) {\r\n\t\t\t\tt.preventDefault();\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\ts = this.settings;\r\n\t\t\t\tif ((\"select\" == s.mode && s.enforceWhitelist) || !s.userInput) return !1;\r\n\t\t\t\ts.readonly ||\r\n\t\t\t\t\t((e = t.clipboardData || window.clipboardData),\r\n\t\t\t\t\t(i = e.getData(\"Text\")),\r\n\t\t\t\t\ts.hooks\r\n\t\t\t\t\t\t.beforePaste(t, { tagify: this, pastedText: i, clipboardData: e })\r\n\t\t\t\t\t\t.then((e) => {\r\n\t\t\t\t\t\t\tvoid 0 === e && (e = i), e && (this.injectAtCaret(e, window.getSelection().getRangeAt(0)), \"mix\" == this.settings.mode ? this.events.callbacks.onMixTagsInput.call(this, t) : this.settings.pasteAsTags ? this.addTags(this.state.inputText + e, !0) : (this.state.inputText = e));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((t) => t));\r\n\t\t\t},\r\n\t\t\tonDrop(t) {\r\n\t\t\t\tt.preventDefault();\r\n\t\t\t},\r\n\t\t\tonEditTagInput(t, e) {\r\n\t\t\t\tvar i = t.closest(\".\" + this.settings.classNames.tag),\r\n\t\t\t\t\ts = this.getNodeIndex(i),\r\n\t\t\t\t\ta = this.tagData(i),\r\n\t\t\t\t\tn = this.input.normalize.call(this, t),\r\n\t\t\t\t\to = i.innerHTML != i.__tagifyTagData.__originalHTML,\r\n\t\t\t\t\tr = this.validateTag(g(i.__tagifyTagData, { [this.settings.tagTextProp]: n }));\r\n\t\t\t\to || !0 !== t.originalIsValid || (r = !0), i.classList.toggle(this.settings.classNames.tagInvalid, !0 !== r), (a.__isValid = r), (i.title = !0 === r ? a.title || a.value : r), n.length >= this.settings.dropdown.enabled && (this.state.editing && (this.state.editing.value = n), this.dropdown.show(n)), this.trigger(\"edit:input\", { tag: i, index: s, data: g({}, this.value[s], { newValue: n }), originalEvent: this.cloneEvent(e) });\r\n\t\t\t},\r\n\t\t\tonEditTagFocus(t) {\r\n\t\t\t\tthis.state.editing = { scope: t, input: t.querySelector(\"[contenteditable]\") };\r\n\t\t\t},\r\n\t\t\tonEditTagBlur(t) {\r\n\t\t\t\tif ((this.state.hasFocus || this.toggleFocusClass(), this.DOM.scope.contains(t))) {\r\n\t\t\t\t\tvar e,\r\n\t\t\t\t\t\ti,\r\n\t\t\t\t\t\ts = this.settings,\r\n\t\t\t\t\t\ta = t.closest(\".\" + s.classNames.tag),\r\n\t\t\t\t\t\tn = this.input.normalize.call(this, t),\r\n\t\t\t\t\t\to = this.tagData(a).__originalData,\r\n\t\t\t\t\t\tr = a.innerHTML != a.__tagifyTagData.__originalHTML,\r\n\t\t\t\t\t\tl = this.validateTag({ [s.tagTextProp]: n });\r\n\t\t\t\t\tif (n)\r\n\t\t\t\t\t\tif (r) {\r\n\t\t\t\t\t\t\tif (((e = this.hasMaxTags()), (i = g({}, o, { [s.tagTextProp]: this.trim(n), value: n, __isValid: l })), s.transformTag.call(this, i, o), !0 !== (l = (!e || !0 === o.__isValid) && this.validateTag(i)))) {\r\n\t\t\t\t\t\t\t\tif ((this.trigger(\"invalid\", { data: i, tag: a, message: l }), s.editTags.keepInvalid)) return;\r\n\t\t\t\t\t\t\t\ts.keepInvalidTags ? (i.__isValid = l) : (i = o);\r\n\t\t\t\t\t\t\t} else s.keepInvalidTags && (delete i.title, delete i[\"aria-invalid\"], delete i.class);\r\n\t\t\t\t\t\t\tthis.onEditTagDone(a, i);\r\n\t\t\t\t\t\t} else this.onEditTagDone(a, o);\r\n\t\t\t\t\telse this.onEditTagDone(a);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEditTagkeydown(t, e) {\r\n\t\t\t\tswitch ((this.trigger(\"edit:keydown\", { originalEvent: this.cloneEvent(t) }), t.key)) {\r\n\t\t\t\t\tcase \"Esc\":\r\n\t\t\t\t\tcase \"Escape\":\r\n\t\t\t\t\t\te.innerHTML = e.__tagifyTagData.__originalHTML;\r\n\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\tcase \"Tab\":\r\n\t\t\t\t\t\tt.preventDefault(), t.target.blur();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDoubleClickScope(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\ts = t.target.closest(\".\" + this.settings.classNames.tag),\r\n\t\t\t\t\ta = this.settings;\r\n\t\t\t\ts && a.userInput && ((e = s.classList.contains(this.settings.classNames.tagEditing)), (i = s.hasAttribute(\"readonly\")), \"select\" == a.mode || a.readonly || e || i || !this.settings.editTags || this.editTag(s), this.toggleFocusClass(!0), this.trigger(\"dblclick\", { tag: s, index: this.getNodeIndex(s), data: this.tagData(s) }));\r\n\t\t\t},\r\n\t\t\tonInputDOMChange(t) {\r\n\t\t\t\tt.forEach((t) => {\r\n\t\t\t\t\tt.addedNodes.forEach((t) => {\r\n\t\t\t\t\t\tif (t)\r\n\t\t\t\t\t\t\tif (\"<div><br></div>\" == t.outerHTML) t.replaceWith(document.createElement(\"br\"));\r\n\t\t\t\t\t\t\telse if (1 == t.nodeType && t.querySelector(this.settings.classNames.tagSelector)) {\r\n\t\t\t\t\t\t\t\tlet e = document.createTextNode(\"\");\r\n\t\t\t\t\t\t\t\t3 == t.childNodes[0].nodeType && \"BR\" != t.previousSibling.nodeName && (e = document.createTextNode(\"\\n\")), t.replaceWith(e, ...[...t.childNodes].slice(0, -1)), this.placeCaretAfterNode(e.previousSibling);\r\n\t\t\t\t\t\t\t} else v.call(this, t) && t.previousSibling && \"BR\" == t.previousSibling.nodeName && (t.previousSibling.replaceWith(\"\\n​\"), this.placeCaretAfterNode(t.previousSibling.previousSibling));\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t\tt.removedNodes.forEach((t) => {\r\n\t\t\t\t\t\t\tt && \"BR\" == t.nodeName && v.call(this, e) && (this.removeTags(e), this.fixFirefoxLastTagNoCaret());\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tvar e = this.DOM.input.lastChild;\r\n\t\t\t\te && \"\" == e.nodeValue && e.remove(), (e && \"BR\" == e.nodeName) || this.DOM.input.appendChild(document.createElement(\"br\"));\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n\tfunction M(t, e) {\r\n\t\tif (!t) {\r\n\t\t\tconsole.warn(\"Tagify:\", \"input element not found\", t);\r\n\t\t\tconst e = new Proxy(this, { get: () => () => e });\r\n\t\t\treturn e;\r\n\t\t}\r\n\t\tif (t.previousElementSibling && t.previousElementSibling.classList.contains(\"tagify\")) return console.warn(\"Tagify: \", \"input element is already Tagified\", t), this;\r\n\t\tvar i;\r\n\t\tg(\r\n\t\t\tthis,\r\n\t\t\t(function (t) {\r\n\t\t\t\tvar e = document.createTextNode(\"\");\r\n\t\t\t\tfunction i(t, i, s) {\r\n\t\t\t\t\ts && i.split(/\\s+/g).forEach((i) => e[t + \"EventListener\"].call(e, i, s));\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\toff(t, e) {\r\n\t\t\t\t\t\treturn i(\"remove\", t, e), this;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ton(t, e) {\r\n\t\t\t\t\t\treturn e && \"function\" == typeof e && i(\"add\", t, e), this;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttrigger(i, s, a) {\r\n\t\t\t\t\t\tvar n;\r\n\t\t\t\t\t\tif (((a = a || { cloneData: !0 }), i))\r\n\t\t\t\t\t\t\tif (t.settings.isJQueryPlugin) \"remove\" == i && (i = \"removeTag\"), jQuery(t.DOM.originalInput).triggerHandler(i, [s]);\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tvar o = \"object\" == typeof s ? s : { value: s };\r\n\t\t\t\t\t\t\t\t\tif ((((o = a.cloneData ? g({}, o) : o).tagify = this), s instanceof Object)) for (var r in s) s[r] instanceof HTMLElement && (o[r] = s[r]);\r\n\t\t\t\t\t\t\t\t\tn = new CustomEvent(i, { detail: o });\r\n\t\t\t\t\t\t\t\t} catch (t) {\r\n\t\t\t\t\t\t\t\t\tconsole.warn(t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\te.dispatchEvent(n);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t})(this)\r\n\t\t),\r\n\t\t\t(this.isFirefox = \"undefined\" != typeof InstallTrigger),\r\n\t\t\t(this.isIE = window.document.documentMode),\r\n\t\t\t(e = e || {}),\r\n\t\t\t(this.getPersistedData =\r\n\t\t\t\t((i = e.id),\r\n\t\t\t\t(t) => {\r\n\t\t\t\t\tlet e,\r\n\t\t\t\t\t\ts = \"/\" + t;\r\n\t\t\t\t\tif (1 == localStorage.getItem(b + i + \"/v\", 1))\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\te = JSON.parse(localStorage[b + i + s]);\r\n\t\t\t\t\t\t} catch (t) {}\r\n\t\t\t\t\treturn e;\r\n\t\t\t\t})),\r\n\t\t\t(this.setPersistedData = ((t) =>\r\n\t\t\t\tt\r\n\t\t\t\t\t? (localStorage.setItem(b + t + \"/v\", 1),\r\n\t\t\t\t\t  (e, i) => {\r\n\t\t\t\t\t\t\tlet s = \"/\" + i,\r\n\t\t\t\t\t\t\t\ta = JSON.stringify(e);\r\n\t\t\t\t\t\t\te && i && (localStorage.setItem(b + t + s, a), dispatchEvent(new Event(\"storage\")));\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: () => {})(e.id)),\r\n\t\t\t(this.clearPersistedData = ((t) => (e) => {\r\n\t\t\t\tconst i = b + \"/\" + t + \"/\";\r\n\t\t\t\tif (e) localStorage.removeItem(i + e);\r\n\t\t\t\telse for (let t in localStorage) t.includes(i) && localStorage.removeItem(t);\r\n\t\t\t})(e.id)),\r\n\t\t\tthis.applySettings(t, e),\r\n\t\t\t(this.state = { inputText: \"\", editing: !1, actions: {}, mixMode: {}, dropdown: {}, flaggedTags: {} }),\r\n\t\t\t(this.value = []),\r\n\t\t\t(this.listeners = {}),\r\n\t\t\t(this.DOM = {}),\r\n\t\t\tthis.build(t),\r\n\t\t\tT.call(this),\r\n\t\t\tthis.getCSSVars(),\r\n\t\t\tthis.loadOriginalValues(),\r\n\t\t\tthis.events.customBinding.call(this),\r\n\t\t\tthis.events.binding.call(this),\r\n\t\t\tt.autofocus && this.DOM.input.focus();\r\n\t}\r\n\treturn (\r\n\t\t(M.prototype = {\r\n\t\t\t_dropdown: w,\r\n\t\t\thelpers: { sameStr: s, removeCollectionProp: a, omit: n, isObject: h, parseHTML: r, escapeHTML: d, extend: g, concatWithoutDups: p, getUID: m, isNodeTag: v },\r\n\t\t\tcustomEventsList: [\"change\", \"add\", \"remove\", \"invalid\", \"input\", \"click\", \"keydown\", \"focus\", \"blur\", \"edit:input\", \"edit:beforeUpdate\", \"edit:updated\", \"edit:start\", \"edit:keydown\", \"dropdown:show\", \"dropdown:hide\", \"dropdown:select\", \"dropdown:updated\", \"dropdown:noMatch\", \"dropdown:scroll\"],\r\n\t\t\tdataProps: [\"__isValid\", \"__removed\", \"__originalData\", \"__originalHTML\", \"__tagId\"],\r\n\t\t\ttrim(t) {\r\n\t\t\t\treturn this.settings.trim && t && \"string\" == typeof t ? t.trim() : t;\r\n\t\t\t},\r\n\t\t\tparseHTML: r,\r\n\t\t\ttemplates: D,\r\n\t\t\tparseTemplate(t, e) {\r\n\t\t\t\treturn (t = this.settings.templates[t] || t), this.parseHTML(t.apply(this, e));\r\n\t\t\t},\r\n\t\t\tset whitelist(t) {\r\n\t\t\t\tconst e = t && Array.isArray(t);\r\n\t\t\t\t(this.settings.whitelist = e ? t : []), this.setPersistedData(e ? t : [], \"whitelist\");\r\n\t\t\t},\r\n\t\t\tget whitelist() {\r\n\t\t\t\treturn this.settings.whitelist;\r\n\t\t\t},\r\n\t\t\tapplySettings(t, i) {\r\n\t\t\t\tf.templates = this.templates;\r\n\t\t\t\tvar s = (this.settings = g({}, f, i));\r\n\t\t\t\t(s.disabled = t.hasAttribute(\"disabled\")), (s.readonly = s.readonly || t.hasAttribute(\"readonly\")), (s.placeholder = d(t.getAttribute(\"placeholder\") || s.placeholder || \"\")), (s.required = t.hasAttribute(\"required\"));\r\n\t\t\t\tfor (let t in s.classNames)\r\n\t\t\t\t\tObject.defineProperty(s.classNames, t + \"Selector\", {\r\n\t\t\t\t\t\tget() {\r\n\t\t\t\t\t\t\treturn \".\" + this[t].split(\" \")[0];\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\tif (\r\n\t\t\t\t\t(this.isIE && (s.autoComplete = !1),\r\n\t\t\t\t\t[\"whitelist\", \"blacklist\"].forEach((e) => {\r\n\t\t\t\t\t\tvar i = t.getAttribute(\"data-\" + e);\r\n\t\t\t\t\t\ti && (i = i.split(s.delimiters)) instanceof Array && (s[e] = i);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t\"autoComplete\" in i && !h(i.autoComplete) && ((s.autoComplete = f.autoComplete), (s.autoComplete.enabled = i.autoComplete)),\r\n\t\t\t\t\t\"mix\" == s.mode && ((s.autoComplete.rightKey = !0), (s.delimiters = i.delimiters || null), s.tagTextProp && !s.dropdown.searchKeys.includes(s.tagTextProp) && s.dropdown.searchKeys.push(s.tagTextProp)),\r\n\t\t\t\t\tt.pattern)\r\n\t\t\t\t)\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ts.pattern = new RegExp(t.pattern);\r\n\t\t\t\t\t} catch (t) {}\r\n\t\t\t\tif (this.settings.delimiters)\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ts.delimiters = new RegExp(this.settings.delimiters, \"g\");\r\n\t\t\t\t\t} catch (t) {}\r\n\t\t\t\ts.disabled && (s.userInput = !1), (this.TEXTS = e(e({}, x), s.texts || {})), (\"select\" != s.mode && s.userInput) || (s.dropdown.enabled = 0), (s.dropdown.appendTarget = i.dropdown && i.dropdown.appendTarget ? i.dropdown.appendTarget : document.body);\r\n\t\t\t\tlet a = this.getPersistedData(\"whitelist\");\r\n\t\t\t\tArray.isArray(a) && (this.whitelist = Array.isArray(s.whitelist) ? p(s.whitelist, a) : a);\r\n\t\t\t},\r\n\t\t\tgetAttributes(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = this.getCustomAttributes(t),\r\n\t\t\t\t\ts = \"\";\r\n\t\t\t\tfor (e in i) s += \" \" + e + (void 0 !== t[e] ? `=\"${i[e]}\"` : \"\");\r\n\t\t\t\treturn s;\r\n\t\t\t},\r\n\t\t\tgetCustomAttributes(t) {\r\n\t\t\t\tif (!h(t)) return \"\";\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = {};\r\n\t\t\t\tfor (e in t) \"__\" != e.slice(0, 2) && \"class\" != e && t.hasOwnProperty(e) && void 0 !== t[e] && (i[e] = d(t[e]));\r\n\t\t\t\treturn i;\r\n\t\t\t},\r\n\t\t\tsetStateSelection() {\r\n\t\t\t\tvar t = window.getSelection(),\r\n\t\t\t\t\te = { anchorOffset: t.anchorOffset, anchorNode: t.anchorNode, range: t.getRangeAt && t.rangeCount && t.getRangeAt(0) };\r\n\t\t\t\treturn (this.state.selection = e), e;\r\n\t\t\t},\r\n\t\t\tgetCaretGlobalPosition() {\r\n\t\t\t\tconst t = document.getSelection();\r\n\t\t\t\tif (t.rangeCount) {\r\n\t\t\t\t\tconst e = t.getRangeAt(0),\r\n\t\t\t\t\t\ti = e.startContainer,\r\n\t\t\t\t\t\ts = e.startOffset;\r\n\t\t\t\t\tlet a, n;\r\n\t\t\t\t\tif (s > 0) return (n = document.createRange()), n.setStart(i, s - 1), n.setEnd(i, s), (a = n.getBoundingClientRect()), { left: a.right, top: a.top, bottom: a.bottom };\r\n\t\t\t\t\tif (i.getBoundingClientRect) return i.getBoundingClientRect();\r\n\t\t\t\t}\r\n\t\t\t\treturn { left: -9999, top: -9999 };\r\n\t\t\t},\r\n\t\t\tgetCSSVars() {\r\n\t\t\t\tvar t = getComputedStyle(this.DOM.scope, null);\r\n\t\t\t\tvar e;\r\n\t\t\t\tthis.CSSVars = {\r\n\t\t\t\t\ttagHideTransition: (({ value: t, unit: e }) => (\"s\" == e ? 1e3 * t : t))(\r\n\t\t\t\t\t\t(function (t) {\r\n\t\t\t\t\t\t\tif (!t) return {};\r\n\t\t\t\t\t\t\tvar e = (t = t.trim().split(\" \")[0])\r\n\t\t\t\t\t\t\t\t.split(/\\d+/g)\r\n\t\t\t\t\t\t\t\t.filter((t) => t)\r\n\t\t\t\t\t\t\t\t.pop()\r\n\t\t\t\t\t\t\t\t.trim();\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tvalue: +t\r\n\t\t\t\t\t\t\t\t\t.split(e)\r\n\t\t\t\t\t\t\t\t\t.filter((t) => t)[0]\r\n\t\t\t\t\t\t\t\t\t.trim(),\r\n\t\t\t\t\t\t\t\tunit: e,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})(((e = \"tag-hide-transition\"), t.getPropertyValue(\"--\" + e)))\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tbuild(t) {\r\n\t\t\t\tvar e = this.DOM;\r\n\t\t\t\tthis.settings.mixMode.integrated ? ((e.originalInput = null), (e.scope = t), (e.input = t)) : ((e.originalInput = t), (e.originalInput_tabIndex = t.tabIndex), (e.scope = this.parseTemplate(\"wrapper\", [t, this.settings])), (e.input = e.scope.querySelector(this.settings.classNames.inputSelector)), t.parentNode.insertBefore(e.scope, t), (t.tabIndex = -1));\r\n\t\t\t},\r\n\t\t\tdestroy() {\r\n\t\t\t\tthis.events.unbindGlobal.call(this), this.DOM.scope.parentNode.removeChild(this.DOM.scope), (this.DOM.originalInput.tabIndex = this.DOM.originalInput_tabIndex), this.dropdown.hide(!0), clearTimeout(this.dropdownHide__bindEventsTimeout);\r\n\t\t\t},\r\n\t\t\tloadOriginalValues(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = this.settings;\r\n\t\t\t\tif (((this.state.blockChangeEvent = !0), void 0 === t)) {\r\n\t\t\t\t\tconst e = this.getPersistedData(\"value\");\r\n\t\t\t\t\tt = e && !this.DOM.originalInput.value ? e : i.mixMode.integrated ? this.DOM.input.textContent : this.DOM.originalInput.value;\r\n\t\t\t\t}\r\n\t\t\t\tif ((this.removeAllTags(), t))\r\n\t\t\t\t\tif (\"mix\" == i.mode) this.parseMixTags(this.trim(t)), ((e = this.DOM.input.lastChild) && \"BR\" == e.tagName) || this.DOM.input.insertAdjacentHTML(\"beforeend\", \"<br>\");\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tJSON.parse(t) instanceof Array && (t = JSON.parse(t));\r\n\t\t\t\t\t\t} catch (t) {}\r\n\t\t\t\t\t\tthis.addTags(t).forEach((t) => t && t.classList.add(i.classNames.tagNoAnimation));\r\n\t\t\t\t\t}\r\n\t\t\t\telse this.postUpdate();\r\n\t\t\t\t(this.state.lastOriginalValueReported = i.mixMode.integrated ? \"\" : this.DOM.originalInput.value), (this.state.blockChangeEvent = !1);\r\n\t\t\t},\r\n\t\t\tcloneEvent(t) {\r\n\t\t\t\tvar e = {};\r\n\t\t\t\tfor (var i in t) e[i] = t[i];\r\n\t\t\t\treturn e;\r\n\t\t\t},\r\n\t\t\tloading(t) {\r\n\t\t\t\treturn (this.state.isLoading = t), this.DOM.scope.classList[t ? \"add\" : \"remove\"](this.settings.classNames.scopeLoading), this;\r\n\t\t\t},\r\n\t\t\ttagLoading(t, e) {\r\n\t\t\t\treturn t && t.classList[e ? \"add\" : \"remove\"](this.settings.classNames.tagLoading), this;\r\n\t\t\t},\r\n\t\t\ttoggleClass(t, e) {\r\n\t\t\t\t\"string\" == typeof t && this.DOM.scope.classList.toggle(t, e);\r\n\t\t\t},\r\n\t\t\ttoggleFocusClass(t) {\r\n\t\t\t\tthis.toggleClass(this.settings.classNames.focus, !!t);\r\n\t\t\t},\r\n\t\t\ttriggerChangeEvent: function () {\r\n\t\t\t\tif (!this.settings.mixMode.integrated) {\r\n\t\t\t\t\tvar t = this.DOM.originalInput,\r\n\t\t\t\t\t\te = this.state.lastOriginalValueReported !== t.value,\r\n\t\t\t\t\t\ti = new CustomEvent(\"change\", { bubbles: !0 });\r\n\t\t\t\t\te && ((this.state.lastOriginalValueReported = t.value), (i.simulated = !0), t._valueTracker && t._valueTracker.setValue(Math.random()), t.dispatchEvent(i), this.trigger(\"change\", this.state.lastOriginalValueReported), (t.value = this.state.lastOriginalValueReported));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tevents: O,\r\n\t\t\tfixFirefoxLastTagNoCaret() {},\r\n\t\t\tplaceCaretAfterNode(t) {\r\n\t\t\t\tif (t && t.parentNode) {\r\n\t\t\t\t\tvar e = t.nextSibling,\r\n\t\t\t\t\t\ti = window.getSelection(),\r\n\t\t\t\t\t\ts = i.getRangeAt(0);\r\n\t\t\t\t\ti.rangeCount && (s.setStartAfter(e || t), s.collapse(!0), i.removeAllRanges(), i.addRange(s));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinsertAfterTag(t, e) {\r\n\t\t\t\tif (((e = e || this.settings.mixMode.insertAfterTag), t && t.parentNode && e)) return (e = \"string\" == typeof e ? document.createTextNode(e) : e), t.parentNode.insertBefore(e, t.nextSibling), e;\r\n\t\t\t},\r\n\t\t\teditTag(t, e) {\r\n\t\t\t\t(t = t || this.getLastTag()), (e = e || {}), this.dropdown.hide();\r\n\t\t\t\tvar i = this.settings;\r\n\t\t\t\tfunction s() {\r\n\t\t\t\t\treturn t.querySelector(i.classNames.tagTextSelector);\r\n\t\t\t\t}\r\n\t\t\t\tvar a = s(),\r\n\t\t\t\t\tn = this.getNodeIndex(t),\r\n\t\t\t\t\to = this.tagData(t),\r\n\t\t\t\t\tr = this.events.callbacks,\r\n\t\t\t\t\tl = this,\r\n\t\t\t\t\td = !0;\r\n\t\t\t\tif (a) {\r\n\t\t\t\t\tif (!(o instanceof Object && \"editable\" in o) || o.editable)\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\ta.setAttribute(\"contenteditable\", !0),\r\n\t\t\t\t\t\t\tt.classList.add(i.classNames.tagEditing),\r\n\t\t\t\t\t\t\tthis.tagData(t, { __originalData: g({}, o), __originalHTML: t.innerHTML }),\r\n\t\t\t\t\t\t\ta.addEventListener(\"focus\", r.onEditTagFocus.bind(this, t)),\r\n\t\t\t\t\t\t\ta.addEventListener(\"blur\", function () {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => r.onEditTagBlur.call(l, s()));\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\ta.addEventListener(\"input\", r.onEditTagInput.bind(this, a)),\r\n\t\t\t\t\t\t\ta.addEventListener(\"keydown\", (e) => r.onEditTagkeydown.call(this, e, t)),\r\n\t\t\t\t\t\t\ta.focus(),\r\n\t\t\t\t\t\t\tthis.setRangeAtStartEnd(!1, a),\r\n\t\t\t\t\t\t\te.skipValidation || (d = this.editTagToggleValidity(t)),\r\n\t\t\t\t\t\t\t(a.originalIsValid = d),\r\n\t\t\t\t\t\t\tthis.trigger(\"edit:start\", { tag: t, index: n, data: o, isValid: d }),\r\n\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t);\r\n\t\t\t\t} else console.warn(\"Cannot find element in Tag template: .\", i.classNames.tagTextSelector);\r\n\t\t\t},\r\n\t\t\teditTagToggleValidity(t, e) {\r\n\t\t\t\tvar i;\r\n\t\t\t\tif ((e = e || this.tagData(t))) return (i = !(\"__isValid\" in e) || !0 === e.__isValid) || this.removeTagsFromValue(t), this.update(), t.classList.toggle(this.settings.classNames.tagNotAllowed, !i), e.__isValid;\r\n\t\t\t\tconsole.warn(\"tag has no data: \", t, e);\r\n\t\t\t},\r\n\t\t\tonEditTagDone(t, e) {\r\n\t\t\t\te = e || {};\r\n\t\t\t\tvar i = { tag: (t = t || this.state.editing.scope), index: this.getNodeIndex(t), previousData: this.tagData(t), data: e };\r\n\t\t\t\tthis.trigger(\"edit:beforeUpdate\", i, { cloneData: !1 }), (this.state.editing = !1), delete e.__originalData, delete e.__originalHTML, t && e[this.settings.tagTextProp] ? ((t = this.replaceTag(t, e)), this.editTagToggleValidity(t, e), this.settings.a11y.focusableTags ? t.focus() : this.placeCaretAfterNode(t.previousSibling)) : t && this.removeTags(t), this.trigger(\"edit:updated\", i), this.dropdown.hide(), this.settings.keepInvalidTags && this.reCheckInvalidTags();\r\n\t\t\t},\r\n\t\t\treplaceTag(t, e) {\r\n\t\t\t\t(e && e.value) || (e = t.__tagifyTagData), e.__isValid && 1 != e.__isValid && g(e, this.getInvalidTagAttrs(e, e.__isValid));\r\n\t\t\t\tvar i = this.createTagElem(e);\r\n\t\t\t\treturn t.parentNode.replaceChild(i, t), this.updateValueByDOMTags(), i;\r\n\t\t\t},\r\n\t\t\tupdateValueByDOMTags() {\r\n\t\t\t\t(this.value.length = 0),\r\n\t\t\t\t\t[].forEach.call(this.getTagElms(), (t) => {\r\n\t\t\t\t\t\tt.classList.contains(this.settings.classNames.tagNotAllowed.split(\" \")[0]) || this.value.push(this.tagData(t));\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tthis.update();\r\n\t\t\t},\r\n\t\t\tsetRangeAtStartEnd(t, e) {\r\n\t\t\t\t(t = \"number\" == typeof t ? t : !!t), (e = (e = e || this.DOM.input).lastChild || e);\r\n\t\t\t\tvar i = document.getSelection();\r\n\t\t\t\ttry {\r\n\t\t\t\t\ti.rangeCount >= 1 && [\"Start\", \"End\"].forEach((s) => i.getRangeAt(0)[\"set\" + s](e, t || e.length));\r\n\t\t\t\t} catch (t) {}\r\n\t\t\t},\r\n\t\t\tinjectAtCaret(t, e) {\r\n\t\t\t\tif ((e = e || this.state.selection.range)) return \"string\" == typeof t && (t = document.createTextNode(t)), e.deleteContents(), e.insertNode(t), this.setRangeAtStartEnd(!1, t), this.updateValueByDOMTags(), this.update(), this;\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tset(t = \"\", e = !0) {\r\n\t\t\t\t\tvar i = this.settings.dropdown.closeOnSelect;\r\n\t\t\t\t\t(this.state.inputText = t), e && (this.DOM.input.innerHTML = d(\"\" + t)), !t && i && this.dropdown.hide.bind(this), this.input.autocomplete.suggest.call(this), this.input.validate.call(this);\r\n\t\t\t\t},\r\n\t\t\t\traw() {\r\n\t\t\t\t\treturn this.DOM.input.textContent;\r\n\t\t\t\t},\r\n\t\t\t\tvalidate() {\r\n\t\t\t\t\tvar t = !this.state.inputText || !0 === this.validateTag({ value: this.state.inputText });\r\n\t\t\t\t\treturn this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid, !t), t;\r\n\t\t\t\t},\r\n\t\t\t\tnormalize(t) {\r\n\t\t\t\t\tvar e = t || this.DOM.input,\r\n\t\t\t\t\t\ti = [];\r\n\t\t\t\t\te.childNodes.forEach((t) => 3 == t.nodeType && i.push(t.nodeValue)), (i = i.join(\"\\n\"));\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ti = i.replace(/(?:\\r\\n|\\r|\\n)/g, this.settings.delimiters.source.charAt(0));\r\n\t\t\t\t\t} catch (t) {}\r\n\t\t\t\t\treturn (i = i.replace(/\\s/g, \" \")), this.settings.trim && (i = i.replace(/^\\s+/, \"\")), this.trim(i);\r\n\t\t\t\t},\r\n\t\t\t\tautocomplete: {\r\n\t\t\t\t\tsuggest(t) {\r\n\t\t\t\t\t\tif (this.settings.autoComplete.enabled) {\r\n\t\t\t\t\t\t\t\"string\" == typeof (t = t || {}) && (t = { value: t });\r\n\t\t\t\t\t\t\tvar e = t.value ? \"\" + t.value : \"\",\r\n\t\t\t\t\t\t\t\ti = e.substr(0, this.state.inputText.length).toLowerCase(),\r\n\t\t\t\t\t\t\t\ts = e.substring(this.state.inputText.length);\r\n\t\t\t\t\t\t\te && this.state.inputText && i == this.state.inputText.toLowerCase() ? (this.DOM.input.setAttribute(\"data-suggest\", s), (this.state.inputSuggestion = t)) : (this.DOM.input.removeAttribute(\"data-suggest\"), delete this.state.inputSuggestion);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset(t) {\r\n\t\t\t\t\t\tvar e = this.DOM.input.getAttribute(\"data-suggest\"),\r\n\t\t\t\t\t\t\ti = t || (e ? this.state.inputText + e : null);\r\n\t\t\t\t\t\treturn !!i && (\"mix\" == this.settings.mode ? this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix + i)) : (this.input.set.call(this, i), this.setRangeAtStartEnd()), this.input.autocomplete.suggest.call(this), this.dropdown.hide(), !0);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tgetTagIdx(t) {\r\n\t\t\t\treturn this.value.findIndex((e) => e.__tagId == (t || {}).__tagId);\r\n\t\t\t},\r\n\t\t\tgetNodeIndex(t) {\r\n\t\t\t\tvar e = 0;\r\n\t\t\t\tif (t) for (; (t = t.previousElementSibling); ) e++;\r\n\t\t\t\treturn e;\r\n\t\t\t},\r\n\t\t\tgetTagElms(...t) {\r\n\t\t\t\tvar e = \".\" + [...this.settings.classNames.tag.split(\" \"), ...t].join(\".\");\r\n\t\t\t\treturn [].slice.call(this.DOM.scope.querySelectorAll(e));\r\n\t\t\t},\r\n\t\t\tgetLastTag() {\r\n\t\t\t\tvar t = this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);\r\n\t\t\t\treturn t[t.length - 1];\r\n\t\t\t},\r\n\t\t\ttagData: (t, e, i) => (t ? (e && (t.__tagifyTagData = i ? e : g({}, t.__tagifyTagData || {}, e)), t.__tagifyTagData) : (console.warn(\"tag element doesn't exist\", t, e), e)),\r\n\t\t\tisTagDuplicate(t, e, i) {\r\n\t\t\t\tvar a = this.settings;\r\n\t\t\t\treturn \"select\" != a.mode && this.value.reduce((n, o) => (s(this.trim(\"\" + t), o.value, e || a.dropdown.caseSensitive) && i != o.__tagId ? n + 1 : n), 0);\r\n\t\t\t},\r\n\t\t\tgetTagIndexByValue(t) {\r\n\t\t\t\tvar e = [];\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthis.getTagElms().forEach((i, a) => {\r\n\t\t\t\t\t\ts(this.trim(i.textContent), t, this.settings.dropdown.caseSensitive) && e.push(a);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\te\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tgetTagElmByValue(t) {\r\n\t\t\t\tvar e = this.getTagIndexByValue(t)[0];\r\n\t\t\t\treturn this.getTagElms()[e];\r\n\t\t\t},\r\n\t\t\tflashTag(t) {\r\n\t\t\t\tt &&\r\n\t\t\t\t\t(t.classList.add(this.settings.classNames.tagFlash),\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tt.classList.remove(this.settings.classNames.tagFlash);\r\n\t\t\t\t\t}, 100));\r\n\t\t\t},\r\n\t\t\tisTagBlacklisted(t) {\r\n\t\t\t\treturn (t = this.trim(t.toLowerCase())), this.settings.blacklist.filter((e) => (\"\" + e).toLowerCase() == t).length;\r\n\t\t\t},\r\n\t\t\tisTagWhitelisted(t) {\r\n\t\t\t\treturn !!this.getWhitelistItem(t);\r\n\t\t\t},\r\n\t\t\tgetWhitelistItem(t, e, i) {\r\n\t\t\t\te = e || \"value\";\r\n\t\t\t\tvar a,\r\n\t\t\t\t\tn = this.settings;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(i = i || n.whitelist).some((i) => {\r\n\t\t\t\t\t\tvar o = \"string\" == typeof i ? i : i[e] || i.value;\r\n\t\t\t\t\t\tif (s(o, t, n.dropdown.caseSensitive, n.trim)) return (a = \"string\" == typeof i ? { value: i } : i), !0;\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ta || \"value\" != e || \"value\" == n.tagTextProp || (a = this.getWhitelistItem(t, n.tagTextProp, i)),\r\n\t\t\t\t\ta\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tvalidateTag(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = \"value\" in t ? \"value\" : e.tagTextProp,\r\n\t\t\t\t\ts = this.trim(t[i] + \"\");\r\n\t\t\t\treturn (t[i] + \"\").trim() ? (e.pattern && e.pattern instanceof RegExp && !e.pattern.test(s) ? this.TEXTS.pattern : !e.duplicates && this.isTagDuplicate(s, this.state.editing, t.__tagId) ? this.TEXTS.duplicate : this.isTagBlacklisted(s) || (e.enforceWhitelist && !this.isTagWhitelisted(s)) ? this.TEXTS.notAllowed : !e.validate || e.validate(t)) : this.TEXTS.empty;\r\n\t\t\t},\r\n\t\t\tgetInvalidTagAttrs(t, e) {\r\n\t\t\t\treturn { \"aria-invalid\": !0, class: `${t.class || \"\"} ${this.settings.classNames.tagNotAllowed}`.trim(), title: e };\r\n\t\t\t},\r\n\t\t\thasMaxTags() {\r\n\t\t\t\treturn this.value.length >= this.settings.maxTags && this.TEXTS.exceed;\r\n\t\t\t},\r\n\t\t\tsetReadonly(t, e) {\r\n\t\t\t\tvar i = this.settings;\r\n\t\t\t\tdocument.activeElement.blur(), (i[e || \"readonly\"] = t), this.DOM.scope[(t ? \"set\" : \"remove\") + \"Attribute\"](e || \"readonly\", !0), this.setContentEditable(!t);\r\n\t\t\t},\r\n\t\t\tsetContentEditable(t) {\r\n\t\t\t\t!this.settings.readonly && this.settings.userInput && ((this.DOM.input.contentEditable = t), (this.DOM.input.tabIndex = t ? 0 : -1));\r\n\t\t\t},\r\n\t\t\tsetDisabled(t) {\r\n\t\t\t\tthis.setReadonly(t, \"disabled\");\r\n\t\t\t},\r\n\t\t\tnormalizeTags(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = e.whitelist,\r\n\t\t\t\t\ts = e.delimiters,\r\n\t\t\t\t\ta = e.mode,\r\n\t\t\t\t\tn = e.tagTextProp;\r\n\t\t\t\te.enforceWhitelist;\r\n\t\t\t\tvar o = [],\r\n\t\t\t\t\tr = !!i && i[0] instanceof Object,\r\n\t\t\t\t\tl = t instanceof Array,\r\n\t\t\t\t\td = (t) =>\r\n\t\t\t\t\t\t(t + \"\")\r\n\t\t\t\t\t\t\t.split(s)\r\n\t\t\t\t\t\t\t.filter((t) => t)\r\n\t\t\t\t\t\t\t.map((t) => ({ [n]: this.trim(t), value: this.trim(t) }));\r\n\t\t\t\tif ((\"number\" == typeof t && (t = t.toString()), \"string\" == typeof t)) {\r\n\t\t\t\t\tif (!t.trim()) return [];\r\n\t\t\t\t\tt = d(t);\r\n\t\t\t\t} else l && (t = [].concat(...t.map((t) => (t.value ? t : d(t)))));\r\n\t\t\t\treturn (\r\n\t\t\t\t\tr &&\r\n\t\t\t\t\t\t(t.forEach((t) => {\r\n\t\t\t\t\t\t\tvar e = o.map((t) => t.value),\r\n\t\t\t\t\t\t\t\ti = this.dropdown.filterListItems.call(this, t[n], { exact: !0 });\r\n\t\t\t\t\t\t\tthis.settings.duplicates || (i = i.filter((t) => !e.includes(t.value)));\r\n\t\t\t\t\t\t\tvar s = i.length > 1 ? this.getWhitelistItem(t[n], n, i) : i[0];\r\n\t\t\t\t\t\t\ts && s instanceof Object ? o.push(s) : \"mix\" != a && (null == t.value && (t.value = t[n]), o.push(t));\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\to.length && (t = o)),\r\n\t\t\t\t\tt\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tparseMixTags(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = e.mixTagsInterpolator,\r\n\t\t\t\t\ts = e.duplicates,\r\n\t\t\t\t\ta = e.transformTag,\r\n\t\t\t\t\tn = e.enforceWhitelist,\r\n\t\t\t\t\to = e.maxTags,\r\n\t\t\t\t\tr = e.tagTextProp,\r\n\t\t\t\t\tl = [];\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(t = t\r\n\t\t\t\t\t\t.split(i[0])\r\n\t\t\t\t\t\t.map((t, e) => {\r\n\t\t\t\t\t\t\tvar d,\r\n\t\t\t\t\t\t\t\th,\r\n\t\t\t\t\t\t\t\tg,\r\n\t\t\t\t\t\t\t\tp = t.split(i[1]),\r\n\t\t\t\t\t\t\t\tc = p[0],\r\n\t\t\t\t\t\t\t\tu = l.length == o;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tif (c == +c) throw Error;\r\n\t\t\t\t\t\t\t\th = JSON.parse(c);\r\n\t\t\t\t\t\t\t} catch (t) {\r\n\t\t\t\t\t\t\t\th = this.normalizeTags(c)[0] || { value: c };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ((a.call(this, h), u || !(p.length > 1) || (n && !this.isTagWhitelisted(h.value)) || (!s && this.isTagDuplicate(h.value)))) {\r\n\t\t\t\t\t\t\t\tif (t) return e ? i[0] + t : t;\r\n\t\t\t\t\t\t\t} else (h[(d = h[r] ? r : \"value\")] = this.trim(h[d])), (g = this.createTagElem(h)), l.push(h), g.classList.add(this.settings.classNames.tagNoAnimation), (p[0] = g.outerHTML), this.value.push(h);\r\n\t\t\t\t\t\t\treturn p.join(\"\");\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.join(\"\")),\r\n\t\t\t\t\t(this.DOM.input.innerHTML = t),\r\n\t\t\t\t\tthis.DOM.input.appendChild(document.createTextNode(\"\")),\r\n\t\t\t\t\tthis.DOM.input.normalize(),\r\n\t\t\t\t\tthis.getTagElms().forEach((t, e) => this.tagData(t, l[e])),\r\n\t\t\t\t\tthis.update({ withoutChangeEvent: !0 }),\r\n\t\t\t\t\tt\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\treplaceTextWithNode(t, e) {\r\n\t\t\t\tif (this.state.tag || e) {\r\n\t\t\t\t\te = e || this.state.tag.prefix + this.state.tag.value;\r\n\t\t\t\t\tvar i,\r\n\t\t\t\t\t\ts,\r\n\t\t\t\t\t\ta = window.getSelection(),\r\n\t\t\t\t\t\tn = a.anchorNode,\r\n\t\t\t\t\t\to = this.state.tag.delimiters ? this.state.tag.delimiters.length : 0;\r\n\t\t\t\t\treturn n.splitText(a.anchorOffset - o), -1 == (i = n.nodeValue.lastIndexOf(e)) ? !0 : ((s = n.splitText(i)), t && n.parentNode.replaceChild(t, s), !0);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectTag(t, e) {\r\n\t\t\t\tvar i = this.settings;\r\n\t\t\t\tif (!i.enforceWhitelist || this.isTagWhitelisted(e.value)) {\r\n\t\t\t\t\tthis.input.set.call(this, e[i.tagTextProp] || e.value, !0), this.state.actions.selectOption && setTimeout(this.setRangeAtStartEnd.bind(this));\r\n\t\t\t\t\tvar s = this.getLastTag();\r\n\t\t\t\t\treturn s ? this.replaceTag(s, e) : this.appendTag(t), (this.value[0] = e), this.update(), this.trigger(\"add\", { tag: t, data: e }), [t];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddEmptyTag(t) {\r\n\t\t\t\tvar e = g({ value: \"\" }, t || {}),\r\n\t\t\t\t\ti = this.createTagElem(e);\r\n\t\t\t\tthis.tagData(i, e), this.appendTag(i), this.editTag(i, { skipValidation: !0 });\r\n\t\t\t},\r\n\t\t\taddTags(t, e, i) {\r\n\t\t\t\tvar s = [],\r\n\t\t\t\t\ta = this.settings,\r\n\t\t\t\t\tn = document.createDocumentFragment();\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(i = i || a.skipInvalid),\r\n\t\t\t\t\tt && 0 != t.length\r\n\t\t\t\t\t\t? ((t = this.normalizeTags(t)),\r\n\t\t\t\t\t\t  \"mix\" == a.mode\r\n\t\t\t\t\t\t\t\t? this.addMixTags(t)\r\n\t\t\t\t\t\t\t\t: (\"select\" == a.mode && (e = !1),\r\n\t\t\t\t\t\t\t\t  this.DOM.input.removeAttribute(\"style\"),\r\n\t\t\t\t\t\t\t\t  t.forEach((t) => {\r\n\t\t\t\t\t\t\t\t\t\tvar e,\r\n\t\t\t\t\t\t\t\t\t\t\to = {},\r\n\t\t\t\t\t\t\t\t\t\t\tr = Object.assign({}, t, { value: t.value + \"\" });\r\n\t\t\t\t\t\t\t\t\t\tif (((t = Object.assign({}, r)), a.transformTag.call(this, t), (t.__isValid = this.hasMaxTags() || this.validateTag(t)), !0 !== t.__isValid)) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (i) return;\r\n\t\t\t\t\t\t\t\t\t\t\tg(o, this.getInvalidTagAttrs(t, t.__isValid), { __preInvalidData: r }), t.__isValid == this.TEXTS.duplicate && this.flashTag(this.getTagElmByValue(t.value));\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif ((\"readonly\" in t && (t.readonly ? (o[\"aria-readonly\"] = !0) : delete t.readonly), (e = this.createTagElem(t, o)), s.push(e), \"select\" == a.mode)) return this.selectTag(e, t);\r\n\t\t\t\t\t\t\t\t\t\tn.appendChild(e), t.__isValid && !0 === t.__isValid ? (this.value.push(t), this.trigger(\"add\", { tag: e, index: this.value.length - 1, data: t })) : (this.trigger(\"invalid\", { data: t, index: this.value.length, tag: e, message: t.__isValid }), a.keepInvalidTags || setTimeout(() => this.removeTags(e, !0), 1e3)), this.dropdown.position();\r\n\t\t\t\t\t\t\t\t  }),\r\n\t\t\t\t\t\t\t\t  this.appendTag(n),\r\n\t\t\t\t\t\t\t\t  this.update(),\r\n\t\t\t\t\t\t\t\t  t.length && e && this.input.set.call(this),\r\n\t\t\t\t\t\t\t\t  this.dropdown.refilter(),\r\n\t\t\t\t\t\t\t\t  s))\r\n\t\t\t\t\t\t: (\"select\" == a.mode && this.removeAllTags(), s)\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\taddMixTags(t) {\r\n\t\t\t\tif ((t = this.normalizeTags(t))[0].prefix || this.state.tag) return this.prefixedTextToTag(t[0]);\r\n\t\t\t\t\"string\" == typeof t && (t = [{ value: t }]);\r\n\t\t\t\tvar e = !!this.state.selection,\r\n\t\t\t\t\ti = document.createDocumentFragment();\r\n\t\t\t\treturn (\r\n\t\t\t\t\tt.forEach((t) => {\r\n\t\t\t\t\t\tvar e = this.createTagElem(t);\r\n\t\t\t\t\t\ti.appendChild(e), this.insertAfterTag(e);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\te ? this.injectAtCaret(i) : (this.DOM.input.focus(), (e = this.setStateSelection()).range.setStart(this.DOM.input, e.range.endOffset), e.range.setEnd(this.DOM.input, e.range.endOffset), this.DOM.input.appendChild(i), this.updateValueByDOMTags(), this.update()),\r\n\t\t\t\t\ti\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tprefixedTextToTag(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = this.settings,\r\n\t\t\t\t\ts = this.state.tag.delimiters;\r\n\t\t\t\tif ((i.transformTag.call(this, t), (t.prefix = t.prefix || this.state.tag ? this.state.tag.prefix : (i.pattern.source || i.pattern)[0]), (e = this.createTagElem(t)), this.replaceTextWithNode(e) || this.DOM.input.appendChild(e), setTimeout(() => e.classList.add(this.settings.classNames.tagNoAnimation), 300), this.value.push(t), this.update(), !s)) {\r\n\t\t\t\t\tvar a = this.insertAfterTag(e) || e;\r\n\t\t\t\t\tthis.placeCaretAfterNode(a);\r\n\t\t\t\t}\r\n\t\t\t\treturn (this.state.tag = null), this.trigger(\"add\", g({}, { tag: e }, { data: t })), e;\r\n\t\t\t},\r\n\t\t\tappendTag(t) {\r\n\t\t\t\tvar e = this.DOM,\r\n\t\t\t\t\ti = e.input;\r\n\t\t\t\ti === e.input ? e.scope.insertBefore(t, i) : e.scope.appendChild(t);\r\n\t\t\t},\r\n\t\t\tcreateTagElem(t, i) {\r\n\t\t\t\tt.__tagId = m();\r\n\t\t\t\tvar s,\r\n\t\t\t\t\ta = g({}, t, e({ value: d(t.value + \"\") }, i));\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(function (t) {\r\n\t\t\t\t\t\tfor (var e, i = document.createNodeIterator(t, NodeFilter.SHOW_TEXT, null, !1); (e = i.nextNode()); ) e.textContent.trim() || e.parentNode.removeChild(e);\r\n\t\t\t\t\t})((s = this.parseTemplate(\"tag\", [a]))),\r\n\t\t\t\t\tthis.tagData(s, t),\r\n\t\t\t\t\ts\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\treCheckInvalidTags() {\r\n\t\t\t\tvar t = this.settings;\r\n\t\t\t\tthis.getTagElms(t.classNames.tagNotAllowed).forEach((t, e) => {\r\n\t\t\t\t\tvar i = this.tagData(t),\r\n\t\t\t\t\t\ts = this.hasMaxTags(),\r\n\t\t\t\t\t\ta = this.validateTag(i);\r\n\t\t\t\t\tif (!0 === a && !s) return (i = i.__preInvalidData ? i.__preInvalidData : { value: i.value }), this.replaceTag(t, i);\r\n\t\t\t\t\tt.title = s || a;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremoveTags(t, e, i) {\r\n\t\t\t\tvar s;\r\n\t\t\t\tif (\r\n\t\t\t\t\t((t = t && t instanceof HTMLElement ? [t] : t instanceof Array ? t : t ? [t] : [this.getLastTag()]),\r\n\t\t\t\t\t(s = t.reduce((t, e) => {\r\n\t\t\t\t\t\te && \"string\" == typeof e && (e = this.getTagElmByValue(e));\r\n\t\t\t\t\t\tvar i = this.tagData(e);\r\n\t\t\t\t\t\treturn e && i && !i.readonly && t.push({ node: e, idx: this.getTagIdx(i), data: this.tagData(e, { __removed: !0 }) }), t;\r\n\t\t\t\t\t}, [])),\r\n\t\t\t\t\t(i = \"number\" == typeof i ? i : this.CSSVars.tagHideTransition),\r\n\t\t\t\t\t\"select\" == this.settings.mode && ((i = 0), this.input.set.call(this)),\r\n\t\t\t\t\t1 == s.length && s[0].node.classList.contains(this.settings.classNames.tagNotAllowed) && (e = !0),\r\n\t\t\t\t\ts.length)\r\n\t\t\t\t)\r\n\t\t\t\t\treturn this.settings.hooks\r\n\t\t\t\t\t\t.beforeRemoveTag(s, { tagify: this })\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tfunction t(t) {\r\n\t\t\t\t\t\t\t\tt.node.parentNode && (t.node.parentNode.removeChild(t.node), e ? this.settings.keepInvalidTags && this.trigger(\"remove\", { tag: t.node, index: t.idx }) : (this.trigger(\"remove\", { tag: t.node, index: t.idx, data: t.data }), this.dropdown.refilter(), this.dropdown.position(), this.DOM.input.normalize(), this.settings.keepInvalidTags && this.reCheckInvalidTags()));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti && i > 10 && 1 == s.length\r\n\t\t\t\t\t\t\t\t? function (e) {\r\n\t\t\t\t\t\t\t\t\t\t(e.node.style.width = parseFloat(window.getComputedStyle(e.node).width) + \"px\"), document.body.clientTop, e.node.classList.add(this.settings.classNames.tagHide), setTimeout(t.bind(this), i, e);\r\n\t\t\t\t\t\t\t\t  }.call(this, s[0])\r\n\t\t\t\t\t\t\t\t: s.forEach(t.bind(this)),\r\n\t\t\t\t\t\t\t\te || (this.removeTagsFromValue(s.map((t) => t.node)), this.update(), \"select\" == this.settings.mode && this.setContentEditable(!0));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((t) => {});\r\n\t\t\t},\r\n\t\t\tremoveTagsFromDOM() {\r\n\t\t\t\t[].slice.call(this.getTagElms()).forEach((t) => t.parentNode.removeChild(t));\r\n\t\t\t},\r\n\t\t\tremoveTagsFromValue(t) {\r\n\t\t\t\t(t = Array.isArray(t) ? t : [t]).forEach((t) => {\r\n\t\t\t\t\tvar e = this.tagData(t),\r\n\t\t\t\t\t\ti = this.getTagIdx(e);\r\n\t\t\t\t\ti > -1 && this.value.splice(i, 1);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremoveAllTags(t) {\r\n\t\t\t\t(t = t || {}), (this.value = []), \"mix\" == this.settings.mode ? (this.DOM.input.innerHTML = \"\") : this.removeTagsFromDOM(), this.dropdown.position(), \"select\" == this.settings.mode && (this.input.set.call(this), this.setContentEditable(!0)), this.update(t);\r\n\t\t\t},\r\n\t\t\tpostUpdate() {\r\n\t\t\t\tvar t = this.settings.classNames,\r\n\t\t\t\t\te = \"mix\" == this.settings.mode ? (this.settings.mixMode.integrated ? this.DOM.input.textContent : this.DOM.originalInput.value.trim()) : this.value.length + this.input.raw.call(this).length;\r\n\t\t\t\tthis.toggleClass(t.hasMaxTags, this.value.length >= this.settings.maxTags), this.toggleClass(t.hasNoTags, !this.value.length), this.toggleClass(t.empty, !e);\r\n\t\t\t},\r\n\t\t\tsetOriginalInputValue(t) {\r\n\t\t\t\tvar e = this.DOM.originalInput;\r\n\t\t\t\tthis.settings.mixMode.integrated || ((e.value = t), (e.tagifyValue = e.value), this.setPersistedData(t, \"value\"));\r\n\t\t\t},\r\n\t\t\tupdate(t) {\r\n\t\t\t\tvar e = this.getInputValue();\r\n\t\t\t\tthis.setOriginalInputValue(e), this.postUpdate(), (t || {}).withoutChangeEvent || this.state.blockChangeEvent || this.triggerChangeEvent();\r\n\t\t\t},\r\n\t\t\tgetInputValue() {\r\n\t\t\t\tvar t = this.getCleanValue();\r\n\t\t\t\treturn \"mix\" == this.settings.mode ? this.getMixedTagsAsString(t) : t.length ? (this.settings.originalInputValueFormat ? this.settings.originalInputValueFormat(t) : JSON.stringify(t)) : \"\";\r\n\t\t\t},\r\n\t\t\tgetCleanValue(t) {\r\n\t\t\t\treturn a(t || this.value, this.dataProps);\r\n\t\t\t},\r\n\t\t\tgetMixedTagsAsString() {\r\n\t\t\t\tvar t = \"\",\r\n\t\t\t\t\te = this,\r\n\t\t\t\t\ti = this.settings.mixTagsInterpolator;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(function s(a) {\r\n\t\t\t\t\t\ta.childNodes.forEach((a) => {\r\n\t\t\t\t\t\t\tif (1 == a.nodeType) {\r\n\t\t\t\t\t\t\t\tconst o = e.tagData(a);\r\n\t\t\t\t\t\t\t\tif ((\"BR\" == a.tagName && (t += \"\\r\\n\"), a.getAttribute(\"style\") || [\"B\", \"I\", \"U\"].includes(a.tagName))) t += a.textContent;\r\n\t\t\t\t\t\t\t\telse if (\"DIV\" == a.tagName || \"P\" == a.tagName) (t += \"\\r\\n\"), s(a);\r\n\t\t\t\t\t\t\t\telse if (v.call(e, a) && o) {\r\n\t\t\t\t\t\t\t\t\tif (o.__removed) return;\r\n\t\t\t\t\t\t\t\t\tt += i[0] + JSON.stringify(n(o, e.dataProps)) + i[1];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else t += a.textContent;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})(this.DOM.input),\r\n\t\t\t\t\tt\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t}),\r\n\t\t(M.prototype.removeTag = M.prototype.removeTags),\r\n\t\tM\r\n\t);\r\n});\r\n"],"names":["t","e","exports","module","define","amd","globalThis","self","Tagify","this","s","i","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","arguments","length","a","forEach","defineProperty","value","configurable","writable","getOwnPropertyDescriptors","defineProperties","trim","toLowerCase","Array","isArray","map","n","indexOf","o","document","createElement","replace","innerHTML","innerText","r","DOMParser","parseFromString","body","firstElementChild","l","nodeType","d","h","prototype","toString","call","split","slice","g","hasOwnProperty","assign","p","let","includes","c","String","normalize","u","test","navigator","userAgent","m","crypto","getRandomValues","Uint8Array","v","classList","contains","settings","classNames","tag","f","delimiters","pattern","tagTextProp","maxTags","callbacks","addTagOnBlur","duplicates","whitelist","blacklist","enforceWhitelist","userInput","keepInvalidTags","mixTagsAllowedAfter","mixTagsInterpolator","backspace","skipInvalid","pasteAsTags","editTags","clicks","keepInvalid","transformTag","a11y","focusableTags","mixMode","insertAfterTag","autoComplete","enabled","rightKey","namespace","selectMode","input","focus","tagNoAnimation","tagInvalid","tagNotAllowed","scopeLoading","hasMaxTags","hasNoTags","empty","inputInvalid","dropdown","dropdownWrapper","dropdownHeader","dropdownFooter","dropdownItem","dropdownItemActive","dropdownInital","tagText","tagX","tagLoading","tagEditing","tagFlash","tagHide","classname","maxItems","searchKeys","fuzzySearch","caseSensitive","accentedSearch","highlightFirst","closeOnSelect","clearOnSelect","position","appendTarget","hooks","beforeRemoveTag","Promise","resolve","beforePaste","suggestionClick","b","y","x","exceed","duplicate","notAllowed","O","customBinding","customEventsList","on","binding","events","state","mainEvents","listeners","main","bindGlobal","isJQueryPlugin","jQuery","DOM","originalInput","removeAllTags","bind","onFocusBlur","keydown","onKeydown","click","onClickScope","dblclick","onDoubleClickScope","paste","onPaste","drop","onDrop","clearInterval","originalInputValueObserverInterval","setInterval","observeOriginalInputValue","inputMutationObserver","MutationObserver","onInputDOMChange","disconnect","mode","observe","childList","global","type","isIE","target","cb","window","onWindowKeyDown","unbindGlobal","textContent","relatedTarget","actions","selectOption","addNew","scope","hide","postUpdate","triggerChangeEvent","hasFocus","Date","toggleFocusClass","trigger","show","loading","getWhitelistItem","addTags","removeTags","removeAttribute","visible","setStateSelection","activeElement","nextElementSibling","key","readonly","setTimeout","editTag","preventDefault","originalEvent","cloneEvent","ArrowLeft","editing","getSelection","anchorOffset","anchorNode","previousSibling","getTagElms","previousElementSibling","hasAttribute","remove","placeCaretAfterNode","nodeName","nodeValue","clearTimeout","fixFirefoxLastTagNoCaret","children","tagName","tagData","parentNode","index","data","charCodeAt","blur","inputSuggestion","ddItemData","keyCode","onInput","onMixTagsInput","inputElm","isValid","validateTag","inputText","set","search","createDocumentFragment","getRangeAt","inputType","appendChild","createTagElem","childNodes","insertNode","setRangeAtStartEnd","lastChild","update","withoutChangeEvent","rangeCount","cloneRange","collapse","setStart","focusNode","endOffset","match","lastIndexOf","prefix","baseOffset","flaggedTags","matchedPatternCount","onInputIE","tagifyValue","loadOriginalValues","closest","getNodeIndex","clipboardData","getData","tagify","pastedText","then","injectAtCaret","catch","onEditTagInput","__tagifyTagData","__originalHTML","originalIsValid","toggle","__isValid","title","newValue","onEditTagFocus","querySelector","onEditTagBlur","__originalData","message","class","onEditTagDone","onEditTagkeydown","addedNodes","outerHTML","replaceWith","tagSelector","createTextNode","removedNodes","M","console","warn","Proxy","get","off","cloneData","triggerHandler","HTMLElement","CustomEvent","detail","dispatchEvent","isFirefox","InstallTrigger","documentMode","getPersistedData","id","localStorage","getItem","JSON","parse","setPersistedData","setItem","stringify","Event","clearPersistedData","removeItem","applySettings","build","_dropdown","refs","getCSSVars","autofocus","parseTemplate","content","templates","dropdownItemNoMatch","enable","isLoading","dropdownHide__bindEventsTimeout","suggestedListItems","filterListItems","unshift","autocomplete","suggest","fill","highlightOption","query","render","removeEventListener","setAttribute","removeChild","ddItemElm","selection","cloneNode","style","cssText","clientHeight","add","createListHTML","dropdownContent","refilter","placeAbove","documentElement","Math","max","clientWidth","innerWidth","getCaretGlobalPosition","bottom","top","left","offsetLeft","offsetTop","getBoundingClientRect","width","floor","ceil","pageXOffset","pageYOffset","onKeyDown","onMouseOver","onMouseLeave","onClick","onScroll","dropdownItemActiveSelector","getSuggestionDataByNode","getMappedValue","suggestionElm","raw","dropdownItemSelector","button","scrollTop","scrollHeight","percentage","round","getAttribute","elm","normalizeTags","selectAll","suggestions","isTagDuplicate","T","some","exact","reduce","every","sortby","concat","mapValueTo","join","helpers","sameStr","removeCollectionProp","omit","isObject","parseHTML","escapeHTML","extend","concatWithoutDups","getUID","isNodeTag","dataProps","wrapper","className","disabled","required","placeholder","getAttributes","RegExp","TEXTS","texts","getCustomAttributes","range","startContainer","startOffset","createRange","setEnd","right","getComputedStyle","CSSVars","tagHideTransition","unit","pop","getPropertyValue","integrated","originalInput_tabIndex","tabIndex","inputSelector","insertBefore","destroy","blockChangeEvent","parseMixTags","insertAdjacentHTML","lastOriginalValueReported","toggleClass","bubbles","simulated","_valueTracker","setValue","random","nextSibling","setStartAfter","removeAllRanges","addRange","getLastTag","tagTextSelector","editable","addEventListener","skipValidation","editTagToggleValidity","removeTagsFromValue","previousData","replaceTag","reCheckInvalidTags","getInvalidTagAttrs","replaceChild","updateValueByDOMTags","deleteContents","validate","source","charAt","substr","substring","replaceTextWithNode","getTagIdx","findIndex","__tagId","querySelectorAll","getTagIndexByValue","getTagElmByValue","flashTag","isTagBlacklisted","isTagWhitelisted","aria-invalid","setReadonly","setContentEditable","contentEditable","setDisabled","Error","splitText","selectTag","appendTag","addEmptyTag","addMixTags","__preInvalidData","prefixedTextToTag","createNodeIterator","NodeFilter","SHOW_TEXT","nextNode","node","idx","__removed","parseFloat","clientTop","removeTagsFromDOM","splice","setOriginalInputValue","getInputValue","getCleanValue","getMixedTagsAsString","originalInputValueFormat","removeTag"],"mappings":"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"}